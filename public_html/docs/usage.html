<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Media Gallery Users Guide</title>
  <style type="text/css">
  <!--
  body {
    margin: 1em 5%;
    background: white;
    color: black;
    font-family: Verdana, Arial, Helvetica, sans-serif;
    font-size: 14px;
  }
  h1 {
    font-size: 22px;
    color: darkgreen;
  }
  h2 {
    font-size: 20px;
    color: brown;
  }
  h3 {
    font-size: 17px;
    color: darkblue;
  }
  p, ul, ol, li {
    margin-top: 0.6em;
    margin-bottom: 0.6em;
  }
  ul, ol {
   margin-left: 0.9em;
   padding-left: 0.9em;
  }
  p {
    margin-top: 1.2em;
    margin-bottom: 1.2em;
    line-height: 1.4em;
  }
  pre, code, kbd, var {
    font-family: Courier, "Courier New", monospace;
  }

  td, th {
    vertical-align: top;
    padding: 5px;
    line-height: 140%;
  }

  .mg_admin_table {
    width: 100%;
    margin: 1em 0;
    background: #F9F9F9;
    border: 1px #AAA solid;
    border-collapse: collapse;
    font-size: 13px;
  }

  .mg_admin_table th,
  .mg_admin_table td {
    border: 1px #AAA solid;
    padding: 5px;
    vertical-align: top;
    line-height: 140%;
  }

  .mg_admin_table th {
    background: silver;
    text-align: center;
    font-weight: bold;
  }

  .mg_admin_table tr:nth-child(even) {
    background-color: #f7f7f7;
    background-color: #F9F9F9;
  }

  .mg_admin_table tr:nth-child(odd) {
    background-color: #e7e7e7;
    background-color: #e7e7e7;
  }

  .mg_admin_table p {
    margin-top: 0.6em;
    margin-bottom: 0.6em;
    line-height: 1.4em;
  }

  dt {
    font-weight: bold;
  }
  .comment {
    font-size: 80%;
  }
  .codeheader {
    font-family: Courier, "Courier New", monospace;
  }

  a:link,
  a:visited {
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }

  a:link,
  a:visited,
  a:hover {
    color: #2222FF;
  }

  .noteclassic,
  .noteimportant,
  .notewarning,
  .notetip {
    margin:2em;
    margin-left:auto;
    margin-right:auto;
    width:70% !important;
    min-height:40px;
    clear:both;
    text-align:justify;
    vertical-align:middle;
    border-collapse:collapse;
    padding:15px 20px 15px 80px;
    background-position:20px 50%;
    background-repeat:no-repeat;
    -moz-border-radius:8px;
    -khtml-border-radius:8px;
    border-radius:8px;
  }
  .noteclassic{
    background-color:#eef;
    background-image:url(images/note.png);
  }
  .noteimportant{
    background-color:#ffc;
    background-image:url(images/important.png);
  }
  .notewarning{
    background-color:#fdd;
    background-image:url(images/warning.png);
  }
  .notetip{
    background-color:#dfd;
    background-image:url(images/tip.png);
  }
  .notetranslator{
    color:red;
  }
  .doctitle {
    text-align: center;
    font-weight: bold;
    font-size: 24px;
  }
  .version {
    text-align: center;
    font-size: 18px;
  }
  .indexofcontents {
    text-align: center;
    font-size: 18pt;
    font-family: "Times New Roman";
    font-weight: bold;
  }
  .nowrap {
    white-space: nowrap;
  }
  .index_1,
  .index_2 {
    float: left;
    width: 40%;
    margin-left: 5%;
    margin-right: 5%;
    margin-top: 10px;
    margin-bottom: 10px;
  }
  .Section2:after {
    content: "";
    display: block;
    clear: both;
    height: 1px;
    overflow: hidden;
  }
  -->
  </style>
</head>
<body>
<div class="Section2">

<div class="doctitle">Media Gallery User&rsquo;s Guide</div>
<p class="version">v1.6</p>
<div class="indexofcontents">Table of Contents</div>

<div class="index_1">
  <ul>
    <li><a href="#mozTocId490119">Overview</a></li>
    <li><a href="#mozTocId42517">License</a></li>
    <li><a href="#mozTocId788061">Credits</a></li>
    <li><a href="#mozTocId27867">Requirements</a>
      <ul>
        <li><a href="#mozTocId190332">Geeklog Version</a></li>
        <li><a href="#mozTocId592268">PHP Version / Configuration</a></li>
        <li><a href="#mozTocId518716">Graphics Package</a></li>
        <li><a href="#mozTocId92633">Database</a></li>
      </ul>
    </li>
    <li><a href="#mozTocId32420">What&rsquo;s New in v1.6.0</a></li>
    <li><a href="#mozTocId623782">Installation</a>
      <ul>
        <li><a href="#mozTocId473182">Auto Installed Geeklog</a></li>
        <li><a href="#mozTocId312812">FTP Installation</a></li>
        <li><a href="#mozTocId773303">Standard Shell Access Installation</a></li>
        <li><a href="#mozTocId586179">Online Installation</a></li>
      </ul>
    </li>
    <li><a href="#mozTocId617560">Upgrading</a>
      <ul>
        <li><a href="#mozTocId960221">Directory Permissions</a></li>
      </ul>
    </li>
    <li><a href="#mozTocId197289">Getting Started - The Quick Start Guide</a>
      <ul>
        <li><a href="#mozTocId639286">Media Gallery Configuration</a></li>
        <li><a href="#mozTocId449279">Creating Your First Album</a></li>
        <li><a href="#mozTocId497890">Adding Media to Your New Album</a></li>
      </ul>
    </li>
    <li><a href="#mozTocId585727">Configuration</a>
      <ul>
        <li><a href="#mozTocId537717">Media Gallery Environment</a></li>
      </ul>
    </li>
    <li><a href="#mozTocId220901">Albums</a>
      <ul>
        <li><a href="#mozTocId454806">Album Configuration Options</a></li>
        <li><a href="#mozTocId794718">Creating an Album</a></li>
        <li><a href="#mozTocId526936">Editing an Album</a></li>
        <li><a href="#mozTocId512933">Deleting Albums</a></li>
        <li><a href="#mozTocId195956">Sorting Albums</a></li>
        <li><a href="#mozTocId67034">Global Album Attribute Editor</a></li>
        <li><a href="#mozTocId69877">Global Album Permission Editor</a></li>
        <li><a href="#mozTocId214085">Setting Album Create Defaults</a></li>
        <li><a href="#mozTocId632238">Special Types of Albums</a></li>
      </ul>
    </li>
    <li><a href="#mozTocId979363">Media Items</a>
      <ul>
        <li><a href="#mozTocId171925">How Media Gallery Stores your Media</a></li>
        <li><a href="#mozTocId563326">Supported Media Types</a></li>
        <li><a href="#mozTocId738453">Media Handling Overview</a></li>
        <li><a href="#mozTocId837834">Uploading Media</a></li>
        <li><a href="#mozTocId781301">Post Upload Processing</a></li>
      </ul>
    </li>
    <li><a href="#mozTocId768958">Manage Media Items</a>
      <ul>
        <li><a href="#mozTocId716339">Media Edit</a></li>
        <li><a href="#mozTocId83636">Batch Caption Editor</a></li>
        <li><a href="#mozTocId747225">Sort Media Items</a></li>
      </ul>
    </li>
    <li><a href="#mozTocId32228">Media Gallery General Items</a>
      <ul>
        <li><a href="#mozTocId885785">RSS Feeds</a></li>
        <li><a href="#mozTocId331186">Electronic PostCard</a></li>
        <li><a href="#mozTocId880455">Moderation</a></li>
        <li><a href="#mozTocId696648">On line Printing</a></li>
        <li><a href="#mozTocId9477">Batch Processing System</a></li>
        <li><a href="#mozTocId478715">User Preferences</a></li>
        <li><a href="#mozTocId199546">Watermarking</a></li>
      </ul>
    </li>
  </ul>
</div>
<div class="index_2">
  <ul>
    <li><a href="#mozTocId580924">Geeklog Integration</a>
      <ul>
        <li><a href="#mozTocId34513">Comments</a></li>
        <li><a href="#mozTocId54737">Auto Tags</a></li>
        <li><a href="#mozTocId160636">Auto Links</a></li>
        <li><a href="#mozTocId741121">Site Statistics</a></li>
        <li><a href="#mozTocId169118">Searching</a></li>
        <li><a href="#mozTocId593778">What&rsquo;s New Listing</a></li>
        <li><a href="#mozTocId519863">Featured Albums</a></li>
        <li><a href="#mozTocId56915">Random Image Block</a></li>
      </ul>
    </li>
    <li><a href="#mozTocId803390">User Profile</a></li>
    <li><a href="#mozTocId370857">Media Gallery Look and Feel</a></li>
    <li><a href="#mozTocId809667">Media Gallery Album Themes</a>
      <ul>
        <li><a href="#mozTocId285200">How to Create a Theme</a></li>
        <li><a href="#mozTocId467866">Theme Styles</a></li>
        <li><a href="#mozTocId633773">Theme JavaScript</a></li>
        <li><a href="#mozTocId740990">Theme Images</a></li>
      </ul>
    </li>
    <li><a href="#mozTocId164653">Media Gallery Administration</a>
      <ul>
        <li><a href="#mozTocId555458">Configuration</a></li>
        <li><a href="#mozTocId30100">EXIF/IPTC Administration</a></li>
        <li><a href="#mozTocId266603">Category Maintenance</a></li>
        <li><a href="#mozTocId87981">Reset System Options</a></li>
        <li><a href="#mozTocId755594">Configuration File Directives</a></li>
        <li><a href="#mozTocId424871">System Defaults Editor</a></li>

        <li><a href="#mozTocId838177">Media Queue</a></li>

        <li><a href="#mozTocId675193">Member Albums</a></li>
        <li><a href="#mozTocId979613">RSS Feeds</a></li>
        <li><a href="#mozTocId304644">Reports</a></li>
        <li><a href="#mozTocId288811">Batch Sessions</a></li>
        <li><a href="#mozTocId735663">Utilities</a></li>
      </ul>
    </li>
    <li><a href="#mozTocId662715">Support</a></li>
    <li><a href="#mozTocId899144">Common Problems and Troubleshooting</a>
      <ul>
        <li><a href="#mozTocId773690">Common Troubleshooting Practices</a></li>
      </ul>
    </li>
    <li><a href="#mozTocId920237">Known Issues</a></li>
    <li><a href="#mozTocId130520">How Can I Help</a></li>
    <li><a href="#mozTocId179642">Special Thanks</a></li>
    <li><a href="#mozTocId259021">Appendix A - Importing</a>
      <ul>
        <li><a href="#mozTocId603399">Inmemoriam Import</a></li>
        <li><a href="#mozTocId117698">Geekary Import</a></li>
        <li><a href="#mozTocId847246">Gallery v1 Import</a></li>
        <li><a href="#mozTocId708323">Gallery v2 Import</a></li>
        <li><a href="#mozTocId112793">4images Import</a></li>
        <li><a href="#mozTocId580820">Geeklog Story Images Import</a></li>
      </ul>
    </li>
  </ul>
</div>

</div><!-- end of Section2 -->

<div class="Section3">
<h1><a name="mozTocId490119"></a>Overview</h1>

<p>Media Gallery is a native <a href="http://www.geeklog.net/" title="http://www.geeklog.net">Geeklog</a> plugin that
lets you manage your photos and other media (video / audio) on a Geeklog powered website.
With Media Gallery it is easy to maintain albums of photos, video and music via an easy to use web interface.
Media Gallery takes advantage of the many features of a Geeklog powered website,
including integrated searching, featured albums, random image block and full support for the Geeklog security model.
Media Gallery has evolved over the years to become a full featured media management system for your Geeklog powered website.</p>

<p>Overall, Media Gallery offers a nice blend of ease of use with many advanced features to give you a robust multimedia gallery for your Geeklog CMS site.
I hope you enjoy using Media Gallery and I always welcome your feedback and suggestions.</p>

<h1><a name="mozTocId42517"></a>License</h1>

<p>Media Gallery is Copyright 2004-2008 &copy; Mark R. Evans mark [at] gllabs [dot] org.</p>

<p>The Media Gallery Plugin is licensed under <a href="http://www.gnu.org/copyleft/gpl.html" title="http://www.gnu.org/copyleft/gpl.html">GNU General Public License Version 2</a>.</p>

<p>If you make enhancements or modifications to Media Gallery, I would appreciate it if you would share your changes with the Media Gallery community.</p>

<h1><a name="mozTocId788061"></a>Credits</h1>

<p>Media Gallery was inspired by the excellent <a href="http://gallery.menalto.com/" title="http://gallery.menalto.com">Gallery Project</a>.
Gallery is probably the best open source photo / media management systems available today.
Gallery has been integrated with many other open source packages,
but it never provided the type of integration I desired.
I wanted something a little less featured, easy for Grandparents to use,
but yet with enough features to make it easy to manage.
Media Gallery is the result of this desire.</p>

<p>To achieve the desired results,
I had the opportunity to see how others solved similar problems.
Many design features, and in some cases code were borrowed from the Gallery project.
Also, the <a href="http://coppermine.sf.net/" title="http://coppermine.sf.net/">Coppermine Gallery</a>
provided ideas and how-to's on accomplishing some features.
I looked at several Geeklog plugins to see how they accomplished integration and because of the hard work of others,my job was much easier.
Many thanks to those that have allowed me to see their work and in many cases borrow from it! </p>

<p>Media Gallery uses several Open Source Packages, including: </p>

<ul>

  <li>Exifer 1.5
  - Copyright &copy; 2005 Jake Olefsky
  - <a href="http://www.offsky.com/software/exif/index.php" title="http://www.offsky.com/software/exif/index.php">http://www.offsky.com/software/exif/index.php</a></li>

  <li>getID3
  - Copyright &copy; James Heinrich, Allan Hansen
  - <a href="http://getid3.sourceforge.net/" title="http://getid3.sourceforge.net/">http://getid3.sourceforge.net/</a></li>

  <li>PHPMailer v1.73
  - Copyright &copy; Brent R. Matzelle
  - <a href="http://phpmailer.sourceforge.net/" title="http://phpmailer.sourceforge.net">http://phpmailer.sourceforge.net</a></li>

  <li>FeedCreator class v1.7.2
  - Copyright &copy; Kai Blankenhorn</li>

  <li>XP Publishing Wizard
  - Based on and inspired by the Gallery Project (<a href="http://gallery.menalto.com/" title="http://gallery.menalto.com">http://gallery.menalto.com</a>)<br>
  Written by: Demian Johnston and Bharat Mediratta <br> Portable version developed by: Tim Strehle and Andre Basse</li>

  <li>Slideshow
  - Based on the Javascript slideshow from the Gallery Project (<a href="http://gallery.menalto.com/" title="http://gallery.menalto.com">http://gallery.menalto.com</a>)</li>

  <li>SWFObject v2.0rc1
  - Copyright &copy; Geoff Stearns, Bobby Vandersluis
  - <a href="http://code.google.com/p/swfobject/" title="http://code.google.com/p/swfobject/">http://code.google.com/p/swfobject/</a></li>

  <li>QTObject embed v1.0.2
  - Copyright &copy; Geoff Stearns
  - <a href="http://blog.deconcept.com/" title="http://blog.deconcept.com">http://blog.deconcept.com</a></li>

  <li>Flash Video Player, Flash MP3 Player and Flash mini-slideshow
  - Copyright &copy; Wayne Patterson
  - <a href="http://www.flashyourweb.com/" title="http://www.flashyourweb.com">http://www.flashyourweb.com</a></li>

  <li>FlowPlayer v1.21.1
  - Copyright &copy; Anssi Piirainen
  - <a href="http://flowplayer.org" title="http://flowplayer.org">http://flowplayer.org</a></li>

  <li>Audio Player by 1 Pixel Out</li>

  <li>FMP3 Players
  - <a href="http://www.enricolai.com/" title="http://www.enricolai.com/">http://www.enricolai.com/</a></li>

  <li>JUPLOAD Java Upload Applet
  - http://jupload.sourceforge.net</li>

  <li>MooTools v1.11
  - http://www.mootools.net
  - Open Source MIT License</li>

  <li>Slimbox v1.41 by Christopher Beyls (http://www.digitalia.be) Inspired by the oriiginal LightBox v2 by Lokesh Dhakar.
  Modified by Mohamed Aly to add timed transitions. 
  Open Source MIT License</li>

  <li>Simple Slide Show v1.3
  - Samuel Birch
  - Open Source MIT License</li>

  <li>SimpleViewer
  - http://www.airtightinteractive.com/simpleviewer/</li>

  <li>Several Open Source JavaScript Routines</li>

</ul>

<h1><a name="mozTocId27867"></a>Requirements</h1>

<p>Media Gallery does have several dependencies on Geeklog and the hosting environment.
The following requirements must be met to ensure Media Gallery will function properly.</p>

<h2><a name="mozTocId190332"></a>Geeklog Version</h2>

<p>Media Gallery requires that you have the latest release of Geeklog installed and working,
the latest production release at this time is <a href="http://www.geeklog.net/article.php/geeklog-1.4.1" title="http://www.geeklog.net/filemgmt/index.php?id=747">Geeklog v1.4.1</a>.
Media Gallery will work with Geeklog v1.4.0 or later, but it is always recommended that you run the latest release.</p>

<h2><a name="mozTocId592268"></a>PHP Version / Configuration</h2>

<p>Media Gallery requires that you have PHP v5.6.4 or later.</p>

<p>Media Gallery requires a reasonable amount of memory to run, calling the external graphics packages to work with large image files takes a lot of memory.
You should configure PHP to allow for at least 48 M of memory per process. Check your <strong>memory_limit</strong> variable in php.ini and ensure it is set to at least 48M.</p>

<p>Media Gallery will work fine with <strong>register_globals=off</strong><br>
Media Gallery can work with <strong>safe_mode=on</strong> but it is not supported.
I know of only 1 user who has successfully run Media Gallery with safe mode enabled.</p>

<h2><a name="mozTocId518716"></a>Graphics Package</h2>

<p>Media Gallery requires that you have one of the following graphics packages installed on your server.</p>

<ul type="disc">

  <li>GD Libraries v2 linked into PHP</li>

  <li>ImageMagick</li>

  <li>NetPBM</li>

</ul>

<p>What image formats Media Gallery will support is dependent upon the graphics package that you.
Here is a quick overview of the three supported image processing packages and their format support:</p>

<table class="mg_admin_table" style="text-align: center;">
  <tbody>
    <tr>
      <th style="width:20%;">Package</th>
      <th style="width:10%;"><abbr title="Joint Photographics Experts Group">JPG</abbr></th>
      <th style="width:10%;"><abbr title="Portable Network Graphics">PNG</abbr></th>
      <th style="width:10%;"><abbr title="Graphics Interchange Format">GIF</abbr></th>
      <th style="width:10%;">Animated<br><abbr title="Graphics Interchange Format">GIF</abbr></th>
      <th style="width:10%;">BMP</th>
      <th style="width:10%;"><abbr title="Tagged Image File Format">TIFF</abbr></th>
      <th style="width:10%;">TGA</th>
      <th style="width:10%;">PSD</th>
    </tr>
    <tr>
      <td>ImageMagick</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X<sup>1</sup></td>
      <td>X<sup>1</sup></td>
      <td>X<sup>1</sup></td>
    </tr>
    <tr>
      <td>GD Libs v2+</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>NetPBM</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>&nbsp;</td>
      <td>X</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p><strong><sup>1</sup></strong><abbr title="Tagged Image File Format">TIFF</abbr>, TGA,
and PSD images are converted to <abbr title="Joint Photographics Experts Group">JPG</abbr> format for the thumbnail and display images.
The source (original) image is maintained in the native format and will be downloaded to the user upon selection since the browser cannot display these formats.</p>

<h2><a name="mozTocId92633"></a>Database</h2>

<p>Media Gallery has the same requirements for databases as Geeklog.
Currently, Media Gallery support MySQL v3.23 and above, including the latest v5.1 beta releases.</p>

<p>Media Gallery also fully supports Microsoft&rsquo;s SQL Server 2000 and SQL Server 2005.
SQL Server support is a new feature in Geeklog v1.4.1.</p>

<h1><a name="mozTocId32420"></a>What&rsquo;s New in v1.6.0</h1>

<p>Media Gallery has added several new key features in v1.6,
below is a quick list of new or enhanced features in this release:</p>

<h3><a class="mozTocH3" name="mozTocId559914"></a>Media Gallery Requires Geeklog v1.4.0 or Higher</h3>

<p>Release v1.6.0 of Media Gallery has removed support for Geeklog v1.3.11 and older.</p>

<h3><a class="mozTocH3" name="mozTocId517439"></a>Media Gallery Requires the Caching Template Library to be Installed</h3>

<p>Media Gallery will now <strong>require</strong> that you install the <a href="http://www.gllabs.org/wiki/doku.php?id=geeklog:templatecache" class="wikilink1" title="geeklog:templatecache">Caching Template Library</a>.
One of the excellent features of the Caching Template Library is the ability to have logic processing in the templates.
This means that inside the template, checks can be made to see if a variable is set to a specific value and then only use a specific portion of the template.
For example, you have the ability to choose whether or not the rating option is shown in the Media View.
In previous versions of Media Gallery, the <abbr title="Hypertext Preprocessor">PHP</abbr> code had to determine if the ratings should be shown and then either set the proper template variables.
Inside the template, there was always a variable called {rating}.
If you choose not to show the ratings, there would be an extra blank line.
Now, with logic processing, Media Gallery does the following in the template:</p>

<h3><a class="mozTocH3" name="mozTocId859771"></a>AJAX Star Rating System</h3>

<p>The media rating system has been completely reworked in Media Gallery v1.6.0.
It now supports a visual star based rating and uses <abbr title="Asynchronous JavaScript and XML">AJAX</abbr> (if JavaScript is enabled) to rate the media without having to refresh the page.
If JavaScript is disabled, then the rating will require a page refresh.</p>

<p>All rating information is now stored in the database to facilitate some additional reporting and to prevent users from rating an item multiple time.</p>

<p>There are new restrictions on how the rating works:</p>

<ul>

  <li>You cannot rate media that you own (uploaded)</li>

  <li>You can only rate media once.
  Media Gallery will store both the User ID and the IP address.
  If either match for a media item, rating will be disabled.</li>

  <li>When you <strong>Reset Ratings</strong> using the Media Edit Screen, the rating history is also deleted so users will be able to rate that item again in the future.</li>

</ul>

<h3><a class="mozTocH3" name="mozTocId179926"></a>Media Gallery Styling (Stylesheets)</h3>

<p>Media Gallery has been modified to use the standard .plugin styles that are included with Geeklog v1.4+.
Past versions of Media Gallery included a separate style sheet.
Now, Media Gallery should better fit the current style (theme) of a site since it will use the same style sheet the rest of the Geeklog site uses.</p>

<p>If you have customized the Media Gallery style sheet in the past, you will need to apply your styles to the standard Geeklog style sheet.</p>

<h3><a class="mozTocH3" name="mozTocId130805"></a>Podcast Handling</h3>

<p>In prior versions of Media Gallery, you would create a 'podcast' album by selecting the Podcast attribute in the album editor.
This functionality has changed.
Now, selecting the podcast attribute simply changes how the RSS feed is generated.
It does not affect the album's look and feel.
To emulate the old functionality, we will use the per album themes to select the Podcast album theme.</p>

<p>In previous versions of Media Gallery, there was a small slideout MP3 player displayed below the thumbnail for MP3 files in a podcast album.
To enable this slideout player in Media Gallery v1.6, you have a new Album Configuration Attribute called MP3 Ribbon Player.
Enable this attribute and the slideout player will display below the thumbnail in the album view.</p>

<h3><a class="mozTocH3" name="mozTocId903135"></a>Media Handling</h3>

<p>In prior versions of Media Gallery, all uploaded image media was converted to JPG format.
Media Gallery now no longer performs this conversion, instead it keeps the image media in its native format, at least for JPG, PNG, GIF and BMP image types.</p>

<h3><a class="mozTocH3" name="mozTocId849016"></a>Search Enhancements</h3>

<p>Media Gallery now supports an internal search feature that will return the search results in a standard album view format.
You can configure how the album view will look by modifying the new configuration options located in <span style="font-weight: bold;">System Options</span> &rarr; <span style="font-weight: bold;">Display Options</span>:</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th>Configuration Option</th>
      <th>Values</th>
    </tr>
    <tr>
      <td>Search Columns</td>
      <td>The number of columns to display in the search results</td>
    </tr>
    <tr>
      <td>Search Rows</td>
      <td>The number of rows to display in the search results</td>
    </tr>
    <tr>
      <td>Search Results Audio / Video Playback Type</td>
      <td>Choose the playback type for audio and video media items.
      Possible selections are:<br>
      - Play in Popup Window<br>
      - Download to local computer<br>
      - Play inline<br>
      - Use mms: links for Microsoft media only</td>
    </tr>
    <tr>
      <td>Show Views Counter in Search Results</td>
      <td>Whether or not to display the media views counter in the search results</td>
    </tr>
    <tr>
      <td>Show Rating in Search Results</td>
      <td>Whether or not to display the rating values in the search results</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId131065"></a>Keyword Enhancements</h3>

<p>Media Gallery has supported keywords for each media item for some time, but there really has not been much functionality with them.
New to Media Gallery v1.6.0 is that the keywords are now hot links that will display all media items with that same keyword when selected.
This leverages Media Gallery's enhanced internal search feature.</p>

<h3><a class="mozTocH3" name="mozTocId729457"></a>Flash Video Playback Enhancements</h3>

<p>New in v1.6.0 is the ability to now select which FLV player you wish to use.
The default MGflv player developed by Wayne Patterson offers a great user interface and feature set.
The FlowPlayer FLV player offers the ability to customize the skin which can give you a little more flexibility with integrating into your site.</p>

<p>To select which player to use, there is a new configuration option in <span style="font-weight: bold;">System Options &rarr; Display Options</span></p>

<h3>Flash Video Player</h3>

<p>You select to use MGflv or FlowPlayer as the default Flash Video Player.</p>

<p>All the FLV playback templates have been consolidated down to 2 base templates:</p>

<ul>

  <li>flvfp.thtml - The FlowPlayer template</li>

  <li>flvmg.thtml - The MGflv template</li>

</ul>

<p>You can now customize these 2 templates and it will be reflected in all FLV playback areas.
This includes inline, pop-up, local FLV and streaming FLV.</p>

<h3><a class="mozTocH3" name="mozTocId675309"></a>FlowPlayer Customization</h3>

<p>Media Gallery supports using FlowPlayer as the default FLV player.
One of the features of FlowPlayer is the ability for you to customize the look and feel.
Starting with FlowPlayer v1.19, you can now 'skin' the player.</p>

<p>The FlowPlayer author has released a separate tool for skinning.
It is called the FlowPlayer Skinning Kit and is available at
<a href="http://sourceforge.net/project/showfiles.php?group_id=133868&amp;package_id=146998&amp;release_id=524349">http://sourceforge.net/project/showfiles.php?group_id=133868&amp;package_id=146998&amp;release_id=524349</a></p>

<p>The kit is designed to run out of the box on a Windows workstation.
It requires that you have the Sun Java runtime installed and also Apache&rsquo;s Ant system installed.
You can download Sun&rsquo;s latest Java runtime here.
You can get a copy of Apache's Ant system here:<br>
<a href="http://code.google.com/p/winant/">http://code.google.com/p/winant/</a></p>

<p>The kit runs from the command line.
CD to the directory where you unpacked the distribution package and run Ant.
The generated player is placed in build/FlowPlayer.swf.
By default it generates the default player with the gray skin.</p>

<p>To create your own skin replace the image files in the images directory!
The names of the files are fairly self explanatory and there is some supporing comments in the included xml/Skin.xml.tmpl file.</p>

<p>To use it on Linux or Mac you need to replace the included swfmill binary with the version built for your operating system.
Swfmill is available for download in their site.</p>

<p>Please refer to the README file included in the package for more info.</p>

<h3><a class="mozTocH3" name="mozTocId746489"></a>Media View Enhancements</h3>

<p>Media Gallery now supports 3 main templates to control the look / feel of the media view.
If the media type is video, the view_video.thtml template is used.
For audio, the view_audio.thtml template.
All other media types use the view_image.thtml template.</p>

<p>This will allow you to have a custom look / feel for video or audio files.
For example, if you have an album that only holds video files, you can change the color scheme or other attributes for videos simply by editing the view_video.thtml template.
The changes will only affect videos, no other media type.
Thanks to Richard Towler for this idea.</p>

<h3><a class="mozTocH3" name="mozTocId273334"></a>Media Gallery Templates</h3>

<p>Media Gallery now supports an option that will allow you to move the templates into your theme layout directories.
This means that you can now have a separate look / feel for Media Gallery for each theme you have installed on your site.</p>

<p>If you want to move the templates to your theme directories, there are 4 steps you must follow:</p>

<ol>

  <li>Copy the contents of plugins/mediagallery/templates/ to layout/themename/mediagallery/</li>

  <li>Copy the contents of public_html/mediagallery/images/ to layout/themename/mediagallery/images/</li>

  <li>Copy public_html/mediagallery/style.css to layout/themename/mediagallery/</li>

  <li>Edit the Media Gallery config.php<br>
  <br>
  comment out the following line:<br>
  $_MG_CONF['template_path'] = $_CONF['path'] . 'plugins/mediagallery/templates';<br>
  <br>
  uncomment the following line:<br>
  $_MG_CONF['template_path'] = $_CONF['path_layout'] . 'mediagallery/';</li>

</ol>

<p>Remember you will need to copy the files above to all of your theme directories.
Now you can have a custom Media Gallery style.css for each them.
You can even customize the images used in Media Gallery per theme.
For example, the little envelope icon used for Media Gallery post cards can be changed for each theme.</p>

<h3><a class="mozTocH3" name="mozTocId82940"></a>Media Gallery Security / Safety Feature</h3>

<p>I have enhanced the filecheck utility in Media Gallery to now verify every file included in the Media Gallery distribution.
It also reports if any unknown directories or files exist within Media Gallery directory structure.</p>

<p>The main reason for this feature is to allow you to clean up old Media Gallery files.
As Media Gallery has grown, some files have been renamed, moved, or simply deleted.
FileCheck will help you with the housekeeping.</p>

<p>Also, it provides a method to detect if something or someone has installed files in the Media Gallery directory tree.
A very simple security check.</p>

<h3><a class="mozTocH3" name="mozTocId665988"></a>Album Themes</h3>

<p>I have added support for album themes.
This means you can select a different style sheet and templates for each album.
Currently in the development release there is only the default theme, but I will develop a couple of others before final release.</p>

<h3>Updated on Album Themes</h3>

<p>If you wish to create a custom set of templates for a 'theme',
you only need to copy over the templates you are going to change,
you do not need to copy every template over to the new skin/ directory.</p>

<p>This feature can also be used to make local modifications to the Media Gallery template files and not worry about them being overwritten during an upgrade.</p>

<h3><a class="mozTocH3" name="mozTocId537925"></a>And a whole lot more&hellip;.</h3>

<p>These are just the major feature improvements,
there have been several other minor enhancements and additions as well.
See the full ChangeLog file in the distribution for more details.</p>

<h1><a name="mozTocId623782"></a>Installation</h1>

<p>Media Gallery follows the standard Geeklog plugin installation procedure.
Below we will document two methods to install the Media Gallery files, via FTP and via standard shell access to the server.</p>

<div class="noteimportant">If you used an automated installer, like Fantastic, cPanel, or Plesk) to install your Geeklog site, the paths may be a bit different than these instructions.
You will need to look at your Geeklog config.php to understand exactly where your files should be copied.
See the <span style="font-weight: bold;">Auto Installed Geeklog</span> section below.</div>

<h2><a class="mozTocH3" name="mozTocId473182"></a>Auto Installed Geeklog</h2>

<p>If you used an automated installed such as Fantastico, cPanel, or Plesk to install Geeklog,
or you host with a provider that does not allow you to store information above the web root,
you will need to adjust the installation instructions below to ensure the files are copied to the proper directory.
If you manually installed Geeklog, you can skip this section.</p>

<p>Auto installers generally do not follow the standard Geeklog installation procedure and instead place all the Geeklog files in the web root (main web directory) of your site.
If this is how your Geeklog site was installed, you may want to reference this FAQ at the Geeklog.net site for some security tips.</p>

<p>In order to know the exact destination directories on your web server,
you will need to look at your Geeklog config.php file.
There are several $_CONF settings that define your Geeklog paths.</p>

<p>For example, generally when an auto installer was used, or you host with a provider that does not allow content outside the web root,
the value for $_CONF['path'] and $_CONF['path_html'] are the same.
This means that when you see references to items like this:</p>

<p>Create a directory called <span style="font-weight: bold;">mediagallery</span>
under your <span style="font-weight: bold;">public_html</span>
directory, you probably do not have a <span style="font-style: italic;">public_html</span> directory.
Instead you would create the directory in the following location:</p>

<p>$_CONF['path_html'] /mediagallery</p>

<p>Replacing the the <span style="font-weight: bold;">$_CONF['path_html']
</span>with the actual directory value of the variable, so if your $_CONF['path_html'] was set to '/home/www/mysitename/' you would create the mediagallery directory at:</p>

<p>/home/www/mysitename/mediagallery</p>

<p><span style="font-weight: bold;">path-to-geeklog</span></p>

<p>You will want to find the value for $_CONF['path'], this is the main (or root) directory for Geeklog.
Anywhere in the installation instructions where you see <span style="font-weight: bold;">path-to-geeklog</span> you will replace that with the path defined in $_CONF['path'].</p>

<p><span style="font-weight: bold;">public_html</span></p>

<p>You will want to find the value for $_CONF['path_html'] in the Geeklog config.php,
this is the directory where the web server actually looks for your HTML pages and your PHP files.
Anywhere in the installation instructions where you see <span style="font-weight: bold;">public_html</span>,
you will replace that with the path defined in $_CONF['path_html'].</p>

<h2><a class="mozTocH3" name="mozTocId312812"></a>FTP Installation</h2>

<p>If you do not have shell access to your server and can only use an FTP client to access your server, follow these instructions.</p>

<p>To install Media Gallery, or any Geeklog plugin, you will need to un-archive the plugin on your local computer.
The Media Gallery distribution will automatically create all the proper directories when it is un-archived.</p>

<p>To un-archive a .gz file, you can use later copies of WinZIP or
<a href="http://www.rarlab.com/" title="http://www.rarlab.com/">WinRAR</a>.
If you are running Mac OSX, please ensure you have the latest version of <i>StuffIt</i> installed.</p>

<ol start="1" type="1">

  <li>Create a temporary directory on your local hard drive to hold the Media Gallery files (let's use C:\tmp for our example).</li>

  <li>Open the <b>mediagallery-1.6.0-1.4.0.tar.gz</b> file with WinRAR.</li>

  <li>Select <b>Extract All Files</b> and point to the <b>C:\tmp</b> directory as the destination.</li>

</ol>

<p>Now we should have a local copy of the Media Gallery Plugin in C:\tmp </p>

<p>Now that you have a copy on your local hard drive, it is time to FTP upto your server.</p>

<p>Start your FTP program, I recommend <a href="http://filezilla.sourceforge.net/">FileZilla</a> if you do not have a program you use already.
FileZilla is free and supports many different operating systems (Windows, Linux, etc.).</p>

<p>Connect to your web server with your FTP program.</p>

<p>Our first FTP will be the entire Media Gallery distribution to your server.
You will want to use the diagrams below to find the proper directory on your server and move the entire <b>c:\tmp\mediagallery\</b>
directory to the <b>path-to-geeklog/plugins/</b> directory.</p>

<p>To find the <b>path-to-geeklog</b> you can look in your Geeklog config.php file and see what directory is defined in the <b>$_CONF[&lsquo;path&rsquo;]</b> line.</p>

<div class="notetip">For the initial FTP of the Media Gallery distribution,
you will want to actually drag the <b>mediagallery</b> folder from your local computer to the <b>plugins</b> directory on your server.
The remaining FTP&rsquo;s below you will actually drag the files, not the parent directory.</div>

<pre><code>        tmp\                path-to-geeklog/
           |                               |
           + mediagallery\--+              + backups/
                            |              + data/
                            |              + language/
                            |              + logs/
                            +-------------&gt;+ plugins/
                                           + public_html/
                                           + sql/
                                           + system/
                                           + db-config.php</code></pre>

<p>Next, you will need to make a sub-directory under the <b>public_html</b> directory on your server called <b>mediagallery</b>.
For most FTP programs you can create directories by highlighting the parent directory, <b>public_html</b>
in this case, then right click the mouse, select <b>New Folder</b> and name it <b>mediagallery</b>.
This procedure may be a little different depending on which FTP program you are using, check their documentation.</p>

<pre><code>
        path-to-geeklog/
                       |
                       + backups/
                       + data/
                       + language/
                       + logs/
                       + plugins/
                       + public_html/
                                    |
                                    + mediagallery &lt;--- Make this subdirectory
                       + sql/
                       + system/
                       + db-config.php</code></pre>

<p>Next you will need to FTP all the files from the
c:\tmp\mediagallery\public_html\* directory to your server.
<b>Here you will want to select all the files and sub-directories in the public_html\ directory, not just the public_html\ folder</b>.
Follow the diagram below: </p>

<pre><code>        tmp\                 path-to-geeklog/
           |                                |
           + mediagallery\                  + backups/
                         |                  + data/
                         + public_html\*-+  + language/
                                         |  + logs/
                                         |  + plugins/
                                         |  + public_html/
                                         |               |
                                         +--------------&gt;+ mediagallery/
                                            + sql/
                                            + system/
                                            + db-config.php</code></pre>

<p>Next, you will need to make a sub-directory under the <b>admin/plugins/</b> directory on your server called <b>mediagallery</b>.</p>

<pre><code>        path-to-geeklog/
                       |
                       + backups/
                       + data/
                       + language/
                       + logs/
                       + plugins/
                       + public_html/
                       |    |
                       |    + admin/
                       |           |
                       |           + plugins/
                       |                    |
                       |                    + mediagallery &lt;--- Make this subdirectory
                       + sql/
                       + system/
                       + db-config.php</code></pre>

<p>Next you will need to FTP all the files from the c:\tmp\mediagallery\admin\* directory to your server.
<b>Here you will want to select all the files and sub-directories in the admin\ directory, not just the public_html\ folder</b>.
Follow the diagram below: </p>

<pre><code>        tmp\            path-to-geeklog/
           |                           |
           + mediagallery\             + backups/
                         |             + data/
                         + admin\---+  + language/
                                    |  + logs/
                                    |  + plugins/
                                    |  + public_html/
                                    |         |
                                    |         + admin/
                                    |                |
                                    |                + plugins/
                                    |                         |
                                    +-----------------------&gt; + mediagallery/
                                       + sql/
                                       + system/
                                       + db-config.php</code></pre>

<p><b>Congratulations!</b>
You should now have all the files uploaded to your server and you are ready to skin to the Online Installation step below.</p>

<h2><a class="mozTocH3" name="mozTocId773303"></a>Standard Shell Access Installation</h2>

<ol start="1" type="1">

  <li>Backup your Geeklog database because the Media Gallery plugin adds tables.
  You can do this with the built in database backup facility in the Admin menu.</li>

  <li>Uncompress the Media Gallery plugin archive while in the path-to-geeklog/plugins directory.
  The archive will create a directory called mediagallery.</li>

  <li>Under your &lt;public_html&gt; directory, create a directory called mediagallery.</li>

  <li>Under &lt;public_html&gt;/admin/plugins/ directory, create a directory called mediagallery.</li>

  <li>Change to your path-to-geeklog/plugins/mediagallery directory.</li>

  <li>Copy the files in the admin directory to the admin/plugins/mediagallery directory you created in step 4.</li>

  <li>Copy the files in the public_html directory to the public_html/mediagallery directory you created in step 3.</li>

</ol>

<h2><a name="mozTocId586179"></a>Online Installation</h2>

<p>Now that you have the files loaded on your server, it is time to actually perform the Media Gallery installation into Geeklog.</p>

<div class="notewarning">Media Gallery will check the server and Geeklog installation.
If there is a configuration error or a component missing, Media Gallery will not display the install button.</div>

<ol start="1" type="1">

  <li>Go to the plugin administration page.
  The Media Gallery plugin should show up with a link to install it.
  Click this link. The install page will tell you if it was successful or not.
  If not, examine the Geeklog error.log in <b>path-to-geeklog/logs/</b> to see what the problem was.
  Fix the problem and re-install.</li>

  <li>The install page will offer you a link to the configuration page of Media Gallery.
  You should select this link and make the necessary changes to Media Gallery configuration to suit your environment.</li>

</ol>

<h1><a name="mozTocId617560"></a>Upgrading</h1>

<h3><a class="mozTocH3" name="mozTocId918417"></a>Standard Upgrade Process</h3>

<p>Upgrading Media Gallery is a very simple process.
You simply need to move the new Media Gallery files to your web server,
just like an normal installation.
Instead of running the installation program, you will execute the Geeklog Plugin Update.</p>

<p>Since it is possible that there may be database structure changes during the upgrade process,
Media Gallery will temporarily disable the Random Image Block,
What&rsquo;s New List and all auto tags until the Geeklog Plugin Upgrade has been performed.
This limits the risk of your site visitors seeing an SQL error or other error during the time
the new Media Gallery source files are uploaded and the Geeklog Plugin upgrade has run.</p>

<div class="noteimportant">Before upgrading your site,
please refer to the <a href="#mozTocId27867">Media Gallery Requirements</a> to ensure you have the proper PHP settings and all the required software installed.</div>

<p>To perform an upgrade, follow these steps:</p>

<ul type="disc">

  <li><b>BACK UP YOUR EXISTING ENVIRONMENT!</b></li>

  <li><b>SAVE YOUR TEMPLATES IF YOU HAVE MADE MODIFICATIONS!</b>
  You will need to re-apply your customizations to the templates after the upgrade.</li>

  <li>Refer to the installation instructions for New Installations for detailed instructions on uploading the new Media Gallery distribution to your server.
  If you are prompted to overwrite existing files, be sure to answer Yes.</li>

  <li>Go to the Geeklog Plugins Menu (from the Geeklog Administrator&rsquo;s menu).</li>

  <li>Select mediagallery plugin from the list.</li>

  <li>You should have an UPDATE button, select it.</li>

</ul>

<p>If all goes well, the upgrade should be complete.
If there were errors, please review your logs/error.log and correct any issues and try the UPDATE again.</p>

<p>Media Gallery will display a success page that will also validate that you have the <a href="http://www.gllabs.org/wiki/doku.php?id=geeklog:templatecache">Caching Template Library</a> installed and that your php.ini memory_limit setting is appropriate.</p>

<h3><a class="mozTocH3" name="mozTocId259069"></a>Post Upgrade Checks </h3>

<ul type="disc">

  <li>Verify all Media Gallery configuration settings.
  Go into the <i>Media Gallery Administration</i> Screen and select <i>System Options</i> and verify all your settings are as you would like.</li>

  <li>Verify that all your auto tags are correctly formatted.
  Depending on your previous version of Media Gallery, there have been several changes to how auto tags are used.
  See Auto tags for any usage changes to the auto tags.</li>

  <li>Verify the allowed media types are properly set for your albums.
  Media Gallery v1.5.0 added 3 new types.</li>

  <li>If you are upgrading from a v0.8x or v0.9x of Media Gallery, you should rebuild all thumbnails.
  Media Gallery has the ability to display larger (200x200 pixel) thumbnails,
  v0.8x and v0.9x created all thumbnails at 150x150 px size.
  See the Media Gallery Administration Screen for the Rebuild All Thumbnail option.</li>

</ul>

<h2><a name="mozTocId960221"></a>Directory Permissions</h2>

<p>It is very important that Media Gallery be able to write to certain directories.
Generally the web server is executing the Media Gallery programs,
so the web server must be able to write to the following directories:</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:50%;">Directory</th>
      <th style="width:50%;">Description</th>
    </tr>
    <tr>
      <td>public_html/mediagallery/mediaobjects/*</td>
      <td>ALL DIRECTORIES UNDER THIS ONE</td>
    </tr>
    <tr>
      <td>public_html/mediagallery/rss</td>
      <td>This is where the RSS feeds are kept</td>
    </tr>
    <tr>
      <td>plugins/mediagallery/tmp</td>
      <td>Media Gallery&rsquo;s temporary work area</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId568335"></a>How To Set Permissions</h3>

<p>Setting the permissions will vary from server to server and depend on how you access your server.
If you have shell access, changing permissions is as simple as running the following command from the mediagallery/mediaobjects/ directory:</p>

<pre> chmod -R 777 *</pre>

<p>If you use FTP to upload files to your server, you can use your FTP program to change the permissions.
Below is an example of using FileZilla as the FTP program to set permissions:</p>

<ul>

  <li>With your mouse, highlight the directory you wish to change the permissions for</li>

  <li>Right click and choose File Attributes</li>

  <li>This will open a window, select the checkbox for Read / Write for owner, group and public permissions.</li>

</ul>

<p>You will need to repeat these steps for all the directories listed above.</p>

<h3><a class="mozTocH3" name="mozTocId897529"></a>Assistance</h3>

<p>If you need assistance getting the permission settings correct,
check with your hosting provider&rsquo;s technical support or post a support message at the <a href="http://www.gllabs.org/">gl Labs website</a>.</p>

<h1><a name="mozTocId197289"></a>Getting Started - The Quick Start Guide </h1>

<p>Most Media Gallery functions needed on a daily basis are available from the drop down menus located in the Media Gallery main view and the album view.
For normal users, the drop down menus will only contain functions such as Search,
but for Media Gallery Administrators and album owners, these menus will contain all the necessary functions to: </p>

<ul type="disc">

  <li>Create Album</li>

  <li>Edit Album</li>

  <li>Add Media</li>

  <li>Manage Media</li>

</ul>

<p>Other, more advanced administrative functions are located in the Media Gallery Administration Screen.
There you can setup the global Media Gallery configuration options,
defaults to use when creating albums and other administrative functions.</p>

<h2><a name="mozTocId639286"></a>Media Gallery Configuration</h2>

<p>The very first action you should perform after installation is to configure the global options for Media Gallery.
Specifically, you need to make sure you have selected the graphics package and its location.
The other options will be detailed later in the document and generally the default settings are adequate to get started.
Navigate to the Media Gallery Administration Screen by selecting the Media Gallery link under the Admins Only menu.</p>

<p>From the Media Gallery Administration Screen, select the <span style="font-weight: bold;">System Options</span> link under the Configuration heading.</p>

<p>Scroll to the bottom of the screen and make sure you select the proper graphics package for your environment and if necessary (ImageMagick and NetPBM)
provide the location where the executable programs are stored.
You may need to check with your hosting provider to get this information.
Save the configuration and Media Gallery will perform a self-check to ensure it can find the graphics package and that all directory permissions are properly set.
If any errors are reported, please fix them before proceeding.</p>

<h2><a name="mozTocId449279"></a>Creating Your First Album</h2>

<p>From the Media Gallery Main View, select <span style="font-weight: bold;">Create Album</span> from the Options drop down menu.
Give your new album a name and description,
check the default setting to ensure they are to your liking and save.
You now have your first album.</p>

<h2><a name="mozTocId497890"></a>Adding Media to Your New Album</h2>

<p>Now that you have a new album, let&rsquo;s put some media items into it.
Click on the thumbnail from the Gallery Main View and that will navigate you to the new album.
Now select <span style="font-weight: bold;">Add Media</span> from the Options drop down menu.
This will give you the web based upload form.
Use the Browse button to locate a media item on your local computer to upload and enter a title and description.
Hit the save button and your media item will be uploaded.
Once Media Gallery has processed the upload,
you should see a confirmation message that the file was successfully processed.
If you receive an error message, double check your configuration.</p>

<p>This concludes the Quick Start.
Media Gallery has a lot of other features and methods for uploading media,
please read the remainder of the documentation to gain a better understanding of all the functions and features Media Gallery has to offer.</p>

<h1><a name="mozTocId585727"></a>Configuration</h1>

<p>Media Gallery has many options to control the behavior,
look and feel and integration with Geeklog.
Most configuration options are available directly through the Media Gallery administration screens.
There are a few options that are only available through Media Gallery&rsquo;s config.php configuration file.</p>

<p>This section will cover the required settings, all other configuration options will be addressed within their individual sections.</p>

<h2><a name="mozTocId537717"></a>Media Gallery Environment</h2>

<p>Media Gallery must be told which graphics package to use and where the executable files are stored.
Also, Media Gallery needs to know where it can create temporary files that are used during image upload and other image manipulation processes.</p>

<h3><a class="mozTocH3" name="mozTocId785612"></a>Graphics Package</h3>

<p>Media Gallery supports three different graphics packages:</p>

<ul>

  <li>GD Libraries</li>

  <li>ImageMagick</li>

  <li>NetPBM</li>

</ul>

<p>How you determine which package to use depends on your hosting environment and what type of media you plan to use in Media Gallery.
Most hosting providers will have at least one of the supported packages installed.
You may need to check with your provider&rsquo;s technical support to find which packages they support.</p>

<h4><a class="mozTocH4" name="mozTocId614660"></a>GD Libraries</h4>

<p>GD Libraries are compiled into PHP and do not require any additional path configuration.
GD Libraries offer good performance and good graphic quality.
This library supports a wide range of image types and is a good overall choice if available.</p>

<h4><a class="mozTocH4" name="mozTocId823344"></a>ImageMagick</h4>

<p>ImageMagick is an external set of programs.
To use ImageMagick, you must know the directory where the executable programs are stored.
Generally on a Unix/Linux based host, they are either in /usr/bin or /usr/local/bin.
Contact your host&rsquo;s technical support if you cannot locate the package in the standard location.</p>

<p>ImageMagick offers good performance and a wide range of image types.
If you plan on support PSD (PhotoShop) files, or TGA (Targa) files,
ImageMagick will be required for these media types.</p>

<h4><a class="mozTocH4" name="mozTocId59122"></a>NetPBM</h4>

<p>NetPBM is another external set of programs.
You must know the directory where the executable programs are stored to use NetPBM.
NetPBM offers very good image quality,
but it is generally much more memory intensive and slow to process.</p>

<h3><a class="mozTocH3" name="mozTocId732829"></a>Paths</h3>

<p>Media Gallery needs to know where certain things are stored or where it can create temporary files.
The most important paths are the <b>Graphics Package Path</b> and the <b>Path to temporary directory</b>.</p>

<p>Graphics Package path is required if you are using ImageMagick or NetPBM as your graphics package.
If you are unsure of where these programs are stored,
contact your host&rsquo;s technical support.</p>

<p>Path to Temporary Directory is where Media Gallery will create temporary files when processing uploads and performing other maintenance operations.
This directory must exist and must be writable by the web server.
By default, Media Gallery will try to use a temporary directory that was created when you installed Media Gallery.
There should be no need to change this value.</p>

<h1><a name="mozTocId220901"></a>Albums</h1>

<p>Albums are the containers in Media Gallery that hold your media items.
Albums can also hold other albums, called sub-albums.
Each album has a unique set of properties that control how it looks and also how it will handle various media objects.</p>

<p>The album configuration will control many aspects of how Media Gallery will work.
The album configuration will control who can view the album,
what type of media it can hold, who can upload to it, how the media will be presented and what features and functions will be available.
Understanding all the different configuration options is very important since they play a very important role in the overall media presentation.</p>

<h2><a name="mozTocId454806"></a>Album Configuration Options</h2>

<h3><a class="mozTocH3" name="mozTocId581405"></a>Album Attributes</h3>

<p>Album attribute configuration options control which features are available in this album and also how the album will be displayed.</p>

<h4><a class="mozTocH4" name="mozTocId682412"></a>Album Theme</h4>

<p>Select which album theme to use for this album.</p>

<h4><a class="mozTocH4" name="mozTocId253576"></a>Allow Comments</h4>

<p>If this is enabled, users will be able to post comments on the media items contained in this album.</p>

<h4><a class="mozTocH4" name="mozTocId190939"></a>Enable EXIF</h4>

<p>If this is enabled, users will be able to view the embedded EXIF/IPTC data of the JPG images.
You can disable EXIF processing, or you can have it display below the media item or in a pop-up window.
Also, you can control what EXIF/IPTC meta data is displayed by configuring the EXIF options located in the Media Gallery Administration screen.</p>

<h4><a class="mozTocH4" name="mozTocId813717"></a>Enable Rating</h4>

<p>Determine if ratings will be enabled and who can rate a media item.
Valid choices are</p>

<ul>

  <li>Disabled</li>

  <li>Members Only - Any logged in user</li>

  <li>Always - Anyone can rate</li>

</ul>

<p>Users are only allowed to rate an item once.
Both their user id (if logged in) and IP address are logged.</p>

<div class="notetip">Users cannot rate their own media.
The rating block will be displayed, but not active.</div>

<h4><a class="mozTocH4" name="mozTocId874911"></a>Enable Album RSS Feed</h4>

<p>If this is enabled, a RSS feed for this album will be created / updated each time you add or remove media to this album.
The RSS icon will appear to the right of the album name.
This allows your site users to subscribe to the RSS feed and keep up with any changes to the album.</p>

<div class="notewarning">Permissions are not checked when a user views the RSS feed.
If you have a protected album and enable the RSS feed, anyone who knows the feed name can view the feed.</div>

<h4><a class="mozTocH4" name="mozTocId563776"></a>Include Sub-Albums in RSS Feed</h4>

<p>If this option is selected (checked) all sub-albums will also be included in the RSS feed.</p>

<h4><a class="mozTocH4" name="mozTocId778985"></a>Podcast RSS Feed</h4>

<p>If this option is selected (checked) the RSS feed will be created with the proper containers so it can be viewed as a Podcast in iTunes or other pod cast reader.</p>

<div class="notewarning">This option no longer controls the look and feel of the album as it did in previous Media Gallery releases.</div>

<h4><a class="mozTocH4" name="mozTocId398921"></a>MP3 Ribbon Player</h4>

<p>If this option is selected, the small MP3 ribbon player will be displayed below all MP3 media.</p>

<h4><a class="mozTocH4" name="mozTocId354853"></a>Enable Client Side Sorting</h4>

<p>If this is enabled, a sort drop down menu will appear in the lower right hand corner.
This will allow your site users to sort the media items to meet their preferences.
Note, this only sorts the display of thumbnails for the user,
it does not alter the sort options you specified in the album configuration.</p>

<h4><a class="mozTocH4" name="mozTocId672564"></a>Default Album Sort on Upload</h4>

<p>By default, all media items in an album are sorted by upload time,
with the newest always displaying first.
By selecting a new sort order,
each time a media item is uploaded, the contents of the album will be resorted using the order you specify here.
This will become the default sort order that the album will use.</p>

<h4><a class="mozTocH4" name="mozTocId240866"></a>Enable Postcards</h4>

<p>Postcards allow your site users to send a media item to family or friends with a short note.
This can be a great tool to help your users advertise your site.
Postcards can be completely disabled, enabled only for logged-in users or enabled for all users.</p>

<p>Please use caution when you make your choice, postcards could also be abused and used for spamming if you allow anyone to send them.
As a protection against misuse, Media Gallery does support enabled a CAPTCHA string on postcard creation if the CAPTCHA v3 or above plugin is installed.</p>

<p>See the section on Postcards for more details on this feature.</p>

<h4><a class="mozTocH4" name="mozTocId579329"></a>Display Album Description</h4>

<p>If this option is enabled, the album description will display just above the first line of thumbnails.</p>

<h4><a class="mozTocH4" name="mozTocId569893"></a>Display Album Views Counter</h4>

<p>If this option is enabled, the number of times an album has been viewed or entered will be displayed on the main Media Gallery index page and for any sub-albums in this album.</p>

<div class="notetip">If you are the owner of the album or have the mediagallery.admin attribute,
your browsing will not increment this counter.</div>

<h4><a class="mozTocH4" name="mozTocId196584"></a>Display Media Views Counter</h4>

<p>If this option is enabled, each thumbnail will show the number of times the item has been viewed.</p>

<div class="notetip">If you are the owner of the media item or have the mediagallery.admin attribute,
your browsing will not increment this counter.</div>

<h4><a class="mozTocH4" name="mozTocId69096"></a>Enable Keywords</h4>

<p>Each media item can have a set of keywords associated with it.
These are primarily used to improve searching.
If this option is enabled, the keywords will be displayed below the thumbnail image.</p>

<h4><a class="mozTocH4" name="mozTocId495252"></a>Thumbnail Image / Display Image / Sub-Album Frame</h4>

<p>The frame around each image / thumbnail in the album is specified here.
Media Gallery supports several different frames.</p>

<ul>

  <li>Thumbnail Image Frame is displayed with the thumbnail</li>

  <li>Display Image Frame is displayed with the Display Image (Media Item View)</li>

  <li>Sub-Album Frame is displayed for all sub-albums in this album.</li>

</ul>

<h4><a class="mozTocH4" name="mozTocId514642"></a>List Sub-Albums before Images</h4>

<p>This specifies if any sub-albums should be listed before the media items or after.
If enabled, all sub-albums will be displayed before the media items are displayed.
If disabled, the sub-albums will be listed after all the media items.</p>

<h4><a class="mozTocH4" name="mozTocId197016"></a>Thumbnail Size</h4>

<p>Determines the size of the thumbnails for the album. There are three choices:</p>

<ul>

  <li>Small (100x100 pixels)</li>

  <li>Medium (150x150 pixels)</li>

  <li>Large (200x200 pixels)</li>

  <li>Custom</li>

</ul>

<h4><a class="mozTocH4" name="mozTocId546486"></a>Custom Thumbnail Width / Height</h4>

<p>If you choose a custom thumbnail size, enter the width and height here.</p>

<h4><a class="mozTocH4" name="mozTocId705432"></a>Audio / Video Playback Options</h4>

<p>When a user selects to view or listen to an audio / video file,
you as the system administrator have a few options on how you will play this file.</p>

<ul>

  <li>Play in Pop up Window - This option will open a pop up window and play the audio / video file on the users computer using either Microsoft Media Player, QuickTime or Flash Player.</li>

  <li>Download to local computer - This option will simply place a direct link to the audio / video file so the file will attempt to download to the users computers.
  Generally, the local browser will recognize the mime type and will try to launch the appropriate player on the users system.</li>

  <li>In line - This option is similar to option 1, but it will not create a pop up window, instead it will attempt to play the audio / video file using either Microsoft Media Play,
  QuickTime or Flash in a window in the Media View.</li>

  <li>Use mms:// links for Microsoft supported media.
  This option will preface the audio / video link with &rsquo;mms://&rsquo; which directly calls the Microsoft Media Player.
  Media Gallery will attempt to determine if the audio / video type is supported by the Microsoft Media Player,
  if not, it will use a direct download link instead.</li>

</ul>

<h4><a class="mozTocH4" name="mozTocId641432"></a>Enable Slideshow</h4>

<p>For media items in the album, Media Gallery can display them as a slideshow.
There are three types of slideshows in Media Gallery:</p>

<ul>

  <li>JavaScript - This is the standard slideshow that is full featured and works with most browsers.</li>

  <li>Lightbox - This will provide a light box slide show.</li>

  <li>Flash Based - This is a Flash based slideshow that will allow Full Screen viewing.
  <span style="font-weight: bold;">Keep in mind the Flash Based slideshow is still experimental.</span></li>

</ul>

<p>If you do not want to have a slideshow feature for the album, choose Disabled.</p>

<h4><a class="mozTocH4" name="mozTocId813638"></a>Display Rows / Columns</h4>

<p>This determines the number of rows / columns of thumbnails per page.</p>

<h3><a class="mozTocH3" name="mozTocId472749"></a>Album Cover</h3>

<p>By default, Media Gallery will use the most recent thumbnail as the album cover.</p>

<p>You also have the option of uploading an image to be used as the album cover.
By selecting the <b>Attached Thumbnail</b> checkbox and specifying the image to upload in the <b>Thumbnail</b> input,
you can add the album cover.
When you attach a thumbnail to the album, that image will always be used as the album cover.</p>

<p>Media Gallery also allows you to specify one of the images in the album to be the album cover as well,
instead of using the most recently added item.
This is configured in the Manage Media screen.</p>

<h3><a class="mozTocH3" name="mozTocId35369"></a>Featured Album</h3>

<p>Albums can also be featured and configured to show on the front page, specific topic or all pages.
To feature an album, simply check the Set as Featured box and select where it should be displayed.
Media Gallery will not show a featured album to a user who does not have the privileges to see that album.</p>

<p>You can have more than one featured album.
For example, you could have a different featured album for each Topic on your Geeklog system.</p>

<h3><a class="mozTocH3" name="mozTocId565953"></a>Media Handling Options</h3>

<p>Each album can have specific options for displaying or handling any media within the album.</p>

<h4><a class="mozTocH4" name="mozTocId215744"></a>Use Filename as Caption</h4>

<p>If this is enabled, each time a media item is uploaded,
if no caption has been entered, the media items filename will be used in the caption field.</p>

<h4><a class="mozTocH4" name="mozTocId285421"></a>Enable Online Printing Link</h4>

<p>Media Gallery supports an integration with DigiBug, an online photo printing service.
By enabling this option, a new link/icon will appear in the lower right hand corner of the media view.
This link will add the photo to the DigiBug shopping cart.</p>

<p>For full details on the Online Printing feature, see the Online Printing Section.</p>

<h4><a class="mozTocH4" name="mozTocId254152"></a>Allow Media Download</h4>

<p>Enabling this option will add a <b>Download</b> link to the media item view screen.
This will allow your site users to easily download the media item to their local system.</p>

<h4><a class="mozTocH4" name="mozTocId775663"></a>Display Full (original) Image</h4>

<p>You can restrict or disable the ability for your users to view the originally uploaded image.
The options are:</p>

<ul>

  <li>Always - Allow anyone to view the originally uploaded image</li>

  <li>Members Only - Only allow logged-in users to view the originally uploaded image</li>

  <li>Disabled - Disable the ability for anyone to view the originally uploaded image</li>

</ul>

<h4><a class="mozTocH4" name="mozTocId966732"></a>Include in Random Image Block</h4>

<p>This option specifies whether the image media from this album should be included in the site&rsquo;s Random Image Block.</p>

<div class="notetip">Only users with the mediagallery.admin attribute may change this setting.</div>

<h4><a class="mozTocH4" name="mozTocId633090"></a>Maximum Image Width / Height</h4>

<p>You can control the maximum resolution of images placed into the album.
If you specify values for both width and height,
any image media which is of higher resolution will automatically be resized to these limits.</p>

<p>If you do not wish to limit the resolution, place a zero (0) in both fields.</p>

<h4><a class="mozTocH4" name="mozTocId186905"></a>Maximum Allowed File Size</h4>

<p>You can also restrict the maximum file size allowed in this album.
By specifying the maximum size in <b>kilobytes (Kb)</b> you will limit the ability to upload any media larger than this size.
Any item which exceeds this size will be discarded and an error message stating the file is too big will be displayed after the upload.</p>

<p>If you do not wish to restrict the file size, place a zero (0) in this field.</p>

<h4><a class="mozTocH4" name="mozTocId225667"></a>Display Image Size</h4>

<p>You must specify the size of the Display Image (the image that is shown when viewing the media item).
Media Gallery has several pre-defined sizes and also the ability for you to add a custom size (see Media Gallery Administration).</p>

<p>When the image media is uploaded, Media Gallery will create the display image using the size specified here.</p>

<div class="notetip">If you change the <b>Display Image Size</b> after you have already added images to this album,
those existing image items <b>will not</b> automatically be resized.
This setting will only affect any new image items uploaded.
To resize the existing items, see the Media Gallery Administration section.</div>

<h3><a class="mozTocH3" name="mozTocId458779"></a>Use Alternate URL</h3>

<h3><a class="mozTocH3" name="mozTocId713858"></a>Watermarking Options</h3>

<p>Each album can enable or disable watermarking.
Also, each album can have a unique watermark image and location.
To enable watermarking, select the checkbox for <b>Automatically Watermark on Upload.</b></p>

<h4><a class="mozTocH4" name="mozTocId132612"></a>Watermark Opacity</h4>

<p>This specifies the transparency used by the watermark image.
The lower the number, the lighter the watermark image will be on the original image.
The higher the number, the darker the watermark will appear.</p>

<h4><a class="mozTocH4" name="mozTocId789719"></a>Watermark Location</h4>

<p>This specifies where on the image media the watermark should be placed.</p>

<h4><a class="mozTocH4" name="mozTocId289815"></a>Watermark Image</h4>

<p>You must select an existing watermark image to apply to newly uploaded image files.</p>

<div class="noteimportant">Changing these values do not affect media items already uploaded to the album,
these settings only apply to newly uploaded image media.</div>

<p>For full details on Media Gallery&rsquo;s Watermarking features, see the Watermarking Section.</p>

<h3><a class="mozTocH3" name="mozTocId853037"></a>Allowed Media Types</h3>

<p>Each album can be configured to only accept a certain type of media.
For example, if you create an album that should only contain music (i.e.; MP3 files),
you can make MP3s the only allowed media type.
Any other type of media that is uploaded to this album will result in an error to the user informing them that the media type is not allowed.</p>

<p>The list of allowed media types is:</p>

<table class="mg_admin_table" style="text-align: center;">
  <tbody>
    <tr>
      <th style="width:33%;">Image</th>
      <th style="width:34%;">Audio / Video</th>
      <th style="width:33%;">Other</th>
    </tr>
    <tr>
      <td>JPEG</td>
      <td>MP3</td>
      <td>ZIP</td>
    </tr>
    <tr>
      <td>PNG</td>
      <td>OGG</td>
      <td>Any Other Type</td>
    </tr>
    <tr>
      <td>TIF</td>
      <td>WMV</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>GIF</td>
      <td>SWF</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>BMP</td>
      <td>MOV</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>TGA</td>
      <td>MP4</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>PSD</td>
      <td>MPEG</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>FLV</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>Remove FLV</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>Embedded Video</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p>For more information on the different media types, see the Support Media Types section.</p>

<p><span style="font-weight: bold;">Image Formats</span></p>

<p>JPEG - Image Format supported by ImageMagick, GD Library, and NetPBM.</p>

<p>PNG - Image Format supported by ImageMagick, GD Library, and NetPBM.</p>

<p>GIF - Image Format supported by ImageMagick, GD Library, and NetPBM.</p>

<p>Animated GIFs - Image Format supported by ImageMagick.
Media Gallery will create thumbnails of the animated GIF, in some cases this may cause the thumbnail version to become non-animated.</p>

<p>BMP - Image Format supported by ImageMagick and NetPBM.</p>

<p>TIFF - Image Format supported by ImageMagick only.
TIFF images are converted to JPG format for the display image and the thumbnail image.
The original image is not altered.</p>

<p>TGA - Image Format supported by ImageMagick only.
TGA images are converted to JPG format for the display image and the thumbnail image.
The original image is not altered.</p>

<p>PSD - Image format supported by ImageMagick only.
PSD images are converted to JPG format for the displya image and the thumbnail image.
The original image is not altered.</p>

<p><span style="font-weight: bold;">Audio Formats</span></p>

<p>MP3 - Audio format.
Media Gallery will attempt to extract the meta data in the MP3 file to auto populate title, artist, album, and genre.
If the MP3 file has an embedded thumbnail image,
Media Gallery will also extract this image and use it as an attached thumbnail for the MP3 file.</p>

<p>OGG - Audio format.
Media Gallery will attempt to extract the meta data in the MP3 file to auto populate title, artist, album, and genre.</p>

<p>WMA - Audio Format.
Media Gallery will recognize WMA files but it does not do any additional processing or data extraction.</p>

<p><span style="font-weight: bold;">Video Formats</span></p>

<p>SWF - Flash format.</p>

<h3><a class="mozTocH3" name="mozTocId876064"></a>User Uploads</h3>

<p>By default, only the album owner or a user with write permissions can upload media items.
User uploads allows you to open the album for contributions from regular site users.</p>

<h4><a class="mozTocH4" name="mozTocId23314"></a>Allow Registered Users to Upload Media to this Album</h4>

<p>If this feature is enabled, any logged-in users to the site will have the ability to upload media items to this album.
If this is not checked (disabled), only users with write permissions to the album will be able to upload new items.</p>

<h4><a class="mozTocH4" name="mozTocId327095"></a>Turn on moderation for this album</h4>

<p>Moderation allows you to store any new uploads by logged-in users into a temporary holding space where they can be reviewed and either approved for inclusion in the album or rejected and deleted.
Moderation is a great tool to ensure only appropriate media items are added to your album by your user community.</p>

<p>By enabling this option you will force all new media items uploaded by logged-in users to be redirected to the moderation queue.</p>

<p>This option is only valid if you have <b>Allow Registered Users to Upload Media to this Album</b> enabled.</p>

<h4><a class="mozTocH4" name="mozTocId861510"></a>Moderator Group</h4>

<p>If you have enabled moderation for this album, select the group of users who will be responsible for reviewing and approving media submissions.</p>

<h4><a class="mozTocH4" name="mozTocId157831"></a>Email moderators on submission</h4>

<p>If this option is enabled, all members of the moderator group will be notified via email when new media items have been uploaded.
Media Gallery tries to keep from flooding the inbox of the moderators,
so if a user uploads 10 media items in a very short period of time, only one moderator email will be sent.</p>

<p>For more details on Media Gallery&rsquo;s moderation capabilities, see the Moderation Section.</p>

<h3><a class="mozTocH3" name="mozTocId591295"></a>Permissions</h3>

<p>Media Gallery supports the Geeklog security model, using Owner, Group, Logged-In and Anonymous permissions for each album.
Media Gallery does not support permissions to the media item level, but instead the album level.</p>

<p>Media Gallery supports a single global permission, whether or not to allow non-logged-in users access to your albums.
If you set the Configuration Option, <b>Login Required</b> to Yes, then only registered site users can view your albums, regardless of the album&rsquo;s individual permissions.</p>

<p>Each album has a set of permissions associated with it,
these permissions determine who can view, edit or add media to the album.
The permissions are: </p>

<table class="mg_admin_table" style="text-align:center;">
  <tbody>
    <tr>
      <th style="width:32%">User</th>
      <th style="width:36%">Read Permission</th>
      <th style="width:32%">Edit Permission</th>
    </tr>
    <tr>
      <td>Owner</td>
      <td>Read</td>
      <td>Edit</td>
    </tr>
    <tr>
      <td>Group</td>
      <td>Read</td>
      <td>Edit</td>
    </tr>
    <tr>
      <td>Logged-In User</td>
      <td>Read</td>
      <td>Edit</td>
    </tr>
    <tr>
      <td>Anonymous</td>
      <td>Read</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p><b>Definitions are as follows:</b></p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:23%">Attribute</th>
      <th style="width:77%">Description / Definition</th>
    </tr>
    <tr>
      <td>Owner</td>
      <td>Each album has an owner; it is the user who created the album.
      Owners will always have READ / WRITE permissions.</td>
    </tr>
    <tr>
      <td>Group</td>
      <td>Each album has a group owner, this it the Geeklog group that has ownership of the album.
      Group Owner can have either READ permission or READ / Write permission.</td>
    </tr>
    <tr>
      <td>Logged-In User (Members)</td>
      <td>This is any user who has a login account on your site and is logged-in.
      Logged-in users can only have READ permission or no permission to view the album.</td>
    </tr>
    <tr>
      <td>Anonymous User</td>
      <td>This is any user who has not logged into your site.
      Anonymous users can only have READ permission or no permission to view the album.</td>
    </tr>
    <tr>
      <td>Read Permission</td>
      <td>Allows the user to view the contents of the album.</td>
    </tr>
    <tr>
      <td>Write Permission</td>
      <td>Allows the user to edit the album attributes (name, description, security permissions, etc.) and upload media to the album.</td>
    </tr>
  </tbody>
</table>

<h4><a class="mozTocH4" name="mozTocId729984"></a>Hidden Album</h4>

<p>Hidden albums have a special purpose;
They are normally hidden from all lists presented to the standard user, but can be used for auto tags.
For example, if you have an album that only contains images you wish to use in articles,
but don&rsquo;t want people to browse the album directory, you can mark it as hidden.
All auto tags to this hidden album will only provide the image,
without a hyper link to the album.</p>

<p>User&rsquo;s who have <span style="font-weight: bold;">WRITE</span> access to a hidden album will see them as normal albums during browsing.</p>

<h4><a class="mozTocH4" name="mozTocId689802"></a>Force Child Update</h4>

<p>If you change the permissions of an album and it contains sub-albums,
you can force Media Gallery to set the exact same permissions on all sub-albums by selecting this option.</p>

<h2><a name="mozTocId794718"></a>Creating an Album</h2>

<p>To create an album in Media Gallery, select the <b>Create Album</b> option from the Options drop down menu.
Each album has a set of configuration attributes that control how the album will be displayed, options for media presentation and access rights.</p>

<h2><a name="mozTocId526936"></a>Editing an Album</h2>

<p>In the album view screen (you must be viewing the album you wish to edit),
there is also an Administration Drop down menu,
this is where you select to Edit an existing album.
The edit screen is identical to the create screen and allows you to modify the settings of an album and also change the parent album
(effectively moving the album to another parent).</p>

<p>If the album you are editing contains sub-albums,
you have the option of forcing all children albums to have the exact same permissions as the parent.
If you choose to do this, check the check box labeled: <b>Force Child Update</b>.</p>

<h2><a name="mozTocId512933"></a>Deleting Albums</h2>

<p>An album can be deleted by selecting the Delete button in the album edit screen.
If you select to delete an album,
you will be given the option to move all sub-albums and media to another album or delete them.
If you choose to have all the contents deleted, it is permanent,
there is no undo function and all the media and sub-albums will be removed.</p>

<p>There is a <b>Batch Delete Albums</b> function available in the Media Gallery Administration screen.
This will present a list of all albums and allow you to select which ones to delete.
There is no option to move the contents of the albums when using the <b>Batch Delete Albums</b> function,
all media items and sub-albums will be permanently deleted.
Please use this feature with caution.</p>

<h2><a name="mozTocId195956"></a>Sorting Albums</h2>

<p>From the Gallery View Screen, there is an option to sort your albums.
This will control the presentation of your albums to your site users.
Albums are sorted in descending order,
meaning the album with the highest order value is listed first.</p>

<p>Select <b>Sort Albums</b> from the <i>Options drop down menu</i> and you will be presented with a list of all your albums.
To sort the sub-albums of a parent album,
select the Parent Album&rsquo;s link and that will give you a list of all sub-albums for that parent.</p>

<h2><a name="mozTocId67034"></a>Global Album Attribute Editor</h2>

<p>You can globally change an attribute for all of your albums using the Global Album Attribute Editor.
This screen gives you a list of all available album attributes;
you will need to check the <b>Update </b>check box for the attributes you wish to change.
On submit all albums will be updated with the new attributes.</p>

<p>You can also select a <b>Starting Album</b>,
which will allow you to only apply the settings to that album and all sub-albums under it.
If you choose <b>-----</b> as the starting album, the changes will be applied to all albums on your site.</p>

<p>An example is if you decided to enable comments for all your albums,
you would check the box for <b>Allow Comments</b>,
then check the check box to the right under the <b>Update</b> column so this setting will be applied.
Submit and only the Enable Comment attribute will be updated for every album on your site.</p>

<h2><a name="mozTocId69877"></a>Global Album Permission Editor</h2>

<p>You can also globally change the permissions for all of your albums using the Global Album Permission Editor.
This screen gives you a list of all available permissions;
you will need to check the check box for the permissions you wish to change.
On submit all albums will be updated with the new permissions.</p>

<p>An example is if you decide to change the group ownership for all of your albums,
you would select the Group from the drop down list and then check the check box to the right under the Update column.
Submit and only the Group owner will be updated for every album on your site.</p>

<h2><a name="mozTocId214085"></a>Setting Album Create Defaults</h2>

<p>When you create your albums, the initial settings are determined by the default settings
that are setup in the Media Gallery Administration Section.</p>

<h2><a name="mozTocId632238"></a>Special Types of Albums</h2>

<p>By selecting a specific set of configuration options,
you can create special albums that can be used to serve a specific purpose.</p>

<h3><a class="mozTocH3" name="mozTocId197646"></a>Member Albums</h3>

<p>Member Albums are a special feature of Media Gallery v1.4+ that allows the site administrator
to give their site users their own album or albums to upload media into.
Member Albums are special in that there are some protected options the member cannot configure,
such as setting the album as a <strong>featured album</strong> or turning on/off moderation.
As the site administrator you can specify certain restrictions such as maximum allowed file size,
maximum resolution of images or overall disk usage quotas for your members.</p>

<p>Media Gallery allows the site administrator to specify where Member Albums can be created.
For example, you could create a special album titled <strong>Member Gallery's</strong> and have all Member Albums placed under this album.
Or, you could specify that Member Albums can be created anywhere that the user has permissions to create.
For example, by specifying the <strong>root</strong> album as the Member Album Root,
site users could create albums directly off the root album.
But, they could not create new sub-albums under another user&rsquo;s album,
permissions would not allow this.</p>

<p>Media Gallery also provides the ability to automatically create Member Albums when the user registers with your site.
The drawback to this method is that not all users will utilize their Member Album and you may have several empty albums lying around your site.
To address this issue, Media Gallery provides a featured called <strong>Self Enrollment</strong>
where the user can select to have their Member Album created and after they agree to your Terms and Conditions the album will automatically be created.
This extra step will help reduce the number of unused Member Albums.</p>

<p>To enable <strong>Self Enrollment</strong> there are a few options:</p>

<ul type="disc">

  <li>When Media Gallery was installed a block was created called <strong>Member Albums</strong> which displays the self enrollment link.
  You could enable this block.</li>

  <li>You can create a static page with information about your Member Albums and provide a link to:<br>
  http://[yoursitehere]/mediagallery/enroll.php</li>

</ul>

<p>To help manage those Member Albums that are created and never used,
there is an administrative function,
<strong>Purge Member Albums</strong> that will list all the empty Member Albums on your site and also show the last login date for the user.
This batch house-keeping function will make it very simply for you to remove those unused albums.</p>

<p>Just as Member Albums can be automatically created when a user registers
with your site, they can also automatically be purged or archived when the user is removed from your site.
Media Gallery allows you to choose whether to delete the album and all of its contents automatically or move it to an archive area.</p>

<p>Member Albums provides a flexible and safe method to allow your site users to share their media items on your website.</p>

<p>For specifics on configuring and administering Member Albums, see the Media Gallery Administration Section.</p>

<h3><a class="mozTocH3" name="mozTocId14200"></a>Hidden Albums</h3>

<p><span class="searchhit">Hidden</span> albums have a special purpose;
They are normally <span class="searchhit">hidden</span> from all lists presented to the standard user,
but can be used for auto tags.
For example, if you have an album that only contains images you wish to use in articles,
but don&rsquo;t want people to browse the album directory,
you can mark it as <span class="searchhit">hidden</span>.
All auto tags to this <span class="searchhit">hidden</span> album will only provide the image,
without a hyper link to the album.</p>

<p>User&rsquo;s who have WRITE access to a <span class="searchhit">hidden</span> album will see them as normal albums during browsing.
This includes any user with the mediagallery.admin attribute.</p>

<h1><a name="mozTocId979363"></a>Media Items</h1>

<p>The heart of Media Gallery is the actual media you upload into your albums.
Media Gallery supports a wide range of media types.
Media Gallery has some unique methods to handle your uploaded media,
below is an overview of how Media Gallery processes the media items.</p>

<h2><a name="mozTocId171925"></a>How Media Gallery Stores your Media</h2>

<p>Media Gallery does not store your images and other media items outside of the web root.
This means, it is possible that a user could view your media items directly,
bypassing the Geeklog security model.
Don&rsquo;t panic, there are controls in place to minimize this, but it is possible.
You will need to decide if the controls Media Gallery has in place will meet your needs and requirements.</p>

<p>Unlike many gallery solutions, Media Gallery does not store your media items in subdirectories that are named after the album they reside.
Instead, there is no relationship to the album and the physical directory where the media items are stored.
Media Gallery has 16 directories, named 0-f, where it will store your media items.</p>

<p>Also, Media Gallery will use a unique hash algorithm to create the actual filename used to store your media.
An example is 09b1867c5238c1c9035bc73f76b29bf4.jpg.</p>

<p>These two <i>features</i> add to the overall security of your media items
since it would be almost impossible for someone to actually guess both the directory name
and the unique hash filename.
But, this also makes it very difficult to export your media items or physically manage your files locally.</p>

<p>There is an option to disable the unique hash naming feature,
instead Media Gallery will simply use the original filename of the media item instead.
This makes downloading the item a little less confusing.</p>

<p>Media Gallery never displays the item filename in a URL.
The filenames are disclosed in the rendered HTML page, in the image tags.
My thought here is that if you give a user access to the album through Media Gallery
and they use the View Source option of their browser to see the actual filenames,
they already have access to the media item anyway.</p>

<p>I believe the media items have an appropriate level of protection that will prevent a non-site user the ability to view your media items directly.</p>

<p>A concern that I have heard voiced is the ability for other sites to hot link to your media items.
Basically, making them available to their site, but using your bandwidth.
There are several options available outside of Geeklog and Media Gallery to prevent this from happening.
Most hosting services offer a method to prevent hot linking.
If you are running the Apache web server,
thereare many solutions to prevent hot linking.
If you are running Microsoft's IIS server,
there are ISAPI filters available to prevent this as well.
Do a Google search on "hot link protection" and you will be presented with several options.</p>

<p>One note of caution,
if you choose to use a hot link protection method
and also give your site users the ability to print images
using the integrated on line printing feature of Media Gallery,
you will need to allow the domain digibug.com to pull images directly from your site.
Be sure and include digibug.com in the allowed exception list.</p>

<p>A quick note on why Media Gallery was designed this way.
Originally, when I first wrote the initial version of Media Gallery,
I did store all the items outside of the web root,
only allowing access through the program.
I found several problems and issues with this approach over time.
Browsers did not cache the content,
since it was dynamically sent each time.
Some privacy tools and ad blockers would block the content.
I decided on a compromise, let the images be directly accessible,
with a naming and storage convention that would make it very difficult to guess.
So far, this solution has proven to be successful one.
I understand there may be some users who feel they need a 100%
guarantee that no one outside of their logged-in website users can access their media items.
Unfortunately, in this case, Media Gallery is probably not the best solution.
I would recommend looking at the
<a href="http://www.4wiseguys.com/filemgmt/singlefile.php?lid=21" title="http://www.4wiseguys.com/filemgmt/singlefile.php?lid=21">Gallery2 Bridge</a>
that supports embedding Gallery v2.1 into Geeklog, Gallery v2 does support storing the images outside of the web root.</p>

<h2><a name="mozTocId563326"></a>Supported Media Types</h2>

<p>Media Gallery supports a wide range of media.
Including image, video, audio and any other type of item you wish to add.
You can control what types of media are allowed on a per album basis.
Also, depending on the Graphics Package you are using,
some media types may or may not be supported.</p>

<h3><a class="mozTocH3" name="mozTocId389131"></a>Image Media</h3>

<p>Media Gallery will automatically convert all uploaded image media to JPG format.
There is an option you can specify during the upload
(Browser based upload only) to disable the conversion.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Format</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>JPEG</td>
      <td>JPG is a commonly used compression / storage format for image media.</td>
    </tr>
    <tr>
      <td>PNG</td>
      <td>PNG is a bitmap image format that employs lossless data compression.</td>
    </tr>
    <tr>
      <td>TIF</td>
      <td>Tagged Image File Format is mainly used for storing image media.
      TIF format is only supported by the ImageMagick graphics package.</td>
    </tr>
    <tr>
      <td>GIF</td>
      <td>Graphics Interchange Format an 8-bit-per-pixel bitmap image format that was introduced by CompuServe in 1987
      and has since come into widespread usage on the World Wide Web due to its wide support and portability.</td>
    </tr>
    <tr>
      <td>BMP</td>
      <td>BMP is a bitmapped graphics format used internally by the Microsoft Windows and OS/2 graphics subsystem (GDI),
      and used commonly as a simple graphics file format on those platforms.</td>
    </tr>
    <tr>
      <td>TGA</td>
      <td>TGA File Format, often referred to as TARGA File Format,
      is a raster graphics file format.</td>
    </tr>
    <tr>
      <td>PSD</td>
      <td>The .PSD (Photoshop Document) format stores an image
      with support for most imaging options available in Photoshop.
      These include layers with masks, color spaces, ICC profiles, transparency,
      text, alpha channels &amp; spot colors, Clipping paths, and duotone settings.
      PSD format is only supported by the ImageMagick graphics package.</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId772773"></a>Audio / Video Media</h3>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Format</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>MP3</td>
      <td>MP3, is a popular audio encoding format.
      It uses a lossy compression algorithm
      that is designed to greatly reduce the amount of data required to represent the audio recording,
      yet still sound like a faithful reproduction of the original uncompressed audio to most listeners.</td>
    </tr>
    <tr>
      <td>OGG</td>
      <td>Ogg is an open standard for a free container format for digital multimedia,
      unrestricted by software patents and designed for efficient streaming and manipulation.</td>
    </tr>
    <tr>
      <td>WMV</td>
      <td>WMV (*.wmv) files use Microsoft's ASF container format.
      These files can be played by Windows Media Player and other players such as MPlayer,
      VLC media player or Media Player Classic.</td>
    </tr>
    <tr>
      <td>SWF</td>
      <td>SWF is a proprietary vector graphics file format produced by the Flash software from Adobe (formerly Macromedia).
      Intended to be small enough for publication on the web,
      SWF files can contain animations or applets of varying degrees of interactivity and function.</td>
    </tr>
    <tr>
      <td>MOV</td>
      <td>The QuickTime (.mov) file format functions as a multimedia container file
      that contains one or more tracks,
      each of which stores a particular type of data: audio, video, effects,
      or text (for subtitles, for example).</td>
    </tr>
    <tr>
      <td>MP4 / MPEG</td>
      <td>TGMP4 is a multimedia container format standard specified as a part of MPEG-4.
      It is most commonly used to store digital audio and digital video streams,
      especially those defined by MPEG, but can also be used to store other
      data such as subtitles and still images.A</td>
    </tr>
    <tr>
      <td>FLV</td>
      <td>Flash Video (FLV) is a proprietary file format used to deliver video over the Internet
      using Adobe Flash Player (formerly known as Macromedia Flash Player) version 6, 7, 8, or 9.</td>
    </tr>
    <tr>
      <td>Streaming FLV</td>
      <td>Same as above, but referencing a streaming flash video server.
      To use streaming FLV files, you must have a streaming Flash video server.</td>
    </tr>
    <tr>
      <td>Embedded Video</td>
      <td>Any embedded video from sites such as YouTube or Google Video.</td>
    </tr>
  </tbody>
</table>

<p>Media Gallery will now determine if there is an embedded thumbnail image in an uploaded MP3 file.
If there is, Media Gallery will extract it and automatically use it as the attached thumbnail for the audio file.</p>

<p>Media Gallery will also pull the <em>title</em>,<em>artist</em>,
and <em>genre</em> for the embedded tags and use these to auto fill the media title,
description and keywords.</p>

<h3><a class="mozTocH3" name="mozTocId754251"></a>Other Media Types</h3>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Format</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>ZIP</td>
      <td>If configured, Media Gallery can extract a ZIP file and process the contents inside.</td>
    </tr>
    <tr>
      <td>Other</td>
      <td>Allows any other type of media not defined above to be placed in the album.</td>
    </tr>
  </tbody>
</table>

<h2><a name="mozTocId738453"></a>Media Handling Overview</h2>

<p>Media Gallery will create a thumbnail and display image for all uploaded image media.
This means that Media Gallery will maintain three different copies of an image.
The decision to create static thumbnails and display images was based on performance.
An image is uploaded once, but viewed many times.
It make sense to create the thumbnail/display image one time and display it many times
instead of dynamically creating the thumbnail/display image each time it is displayed.
There is a huge performance gain and this gives Media Gallery the ability to scale to higher number of concurrent users.
The downside is there is a large disk space requirement since these images are statically stored on the server.</p>

<p>When new media is uploaded to Media Gallery, there are several actions performed.
Many of the actions are controlled via the album configuration.</p>

<p>When a new<b> image</b> is uploaded, Media Gallery will do the following:</p>

<ul>

  <li>Validate the user has permissions to upload to the album.</li>

  <li>Validate the image type is allowed by the album configuration.</li>

  <li>Validate the image does not exceed the maximum file size as defined by the album configuration.</li>

  <li>Create a thumbnail image</li>

  <li>Create a display image</li>

  <li>Check the Media Gallery configuration option on whether the original uploaded image should be kept.</li>

  <li>Check the album configuration to determine if the original image needs to be resized.</li>

  <li>Check the album configuration to determine if the image needs to be watermarked.</li>

  <li>Check the album configuration to determine if the image should be placed in the moderation queue and if moderators should be notified of the upload.</li>

</ul>

<p>When new <b>video</b> media is uploaded, Media Gallery will do the following:</p>

<ul>

  <li>Validate the user has permission to upload to the album.</li>

  <li>Validate the video type is allowed by the album configuration.</li>

  <li>Validate the video does not exceed the maximum file size as defined by the album configuration.</li>

  <li>Check the Media Gallery configuration if FFMpeg should try to create a thumbnail of the video.</li>

  <li>Check the album configuration to determine if the video should be placed in the moderation queue
  and if the moderators should be notified of the upload.</li>

</ul>

<p>When new <b>audio</b> media is uploaded, Media Gallery will do the following:</p>

<ul>

  <li>Validate the user has permission to upload to the album.</li>

  <li>Validate the audio type is allowed by the album configuration.</li>

  <li>Validate the audio file does not exceed the maximum file size as defined by the album configuration.</li>

  <li>Attempt to extract any embedded thumbnail images in the MP3 file.</li>

  <li>Attempt to extract any IDv3 meta data to automatically populate the media title / description fields.</li>

  <li>Check the album configuration to determine if the audio file should be placed in the moderation queue
  and if moderators should be notified of the upload.</li>

</ul>

<p>As you can see, how Media Gallery deals with new media is very dependent upon how the album is configured.</p>

<h2><a name="mozTocId837834"></a>Uploading Media</h2>

<p>Media Gallery supports several methods to add media to your albums;
Direct Browser Uploads, Import via FTP, Upload via JUPLOAD Java Applet and the Windows Web Publishing Wizard.</p>

<p>Before we get into the details about how to add media to your albums,
there needs to be a little discussion on outside factors that affect uploading to your albums.
Server configuration and PHP&rsquo;s configuration play a major role in how uploads work and what can be uploaded.
For example, PHP&rsquo;s configuration file (php.ini) controls the maximum file size that can be uploaded.
It also controls the maximum size of a page that can be submitted.
See this online FAQ for more information.</p>

<p>Let&rsquo;s discuss the options for adding media to your albums: </p>

<h3><a class="mozTocH3" name="mozTocId95544"></a>Direct Browser Uploads</h3>

<p>This option allows you to upload media to an album.
You must specify a caption for each uploaded file;
the description field and keyword fields are optional.
You may also upload a thumbnail with each item you upload for the album.</p>

<p>Browser uploading is very convenient, but it does limit the size and how many items you can upload at one time.
For example, if your PHP configuration only allows 2 megabytes file uploads,
you cannot upload anything larger through the browser upload screen.
If you have 20 or 30 items to upload, you can only upload a maximum of 4 items at a time with the browser upload.</p>

<h3><a class="mozTocH3" name="mozTocId80048"></a>FTP Import</h3>

<p>Import via FTP offers a much more flexible method to add items to your albums.
There are no real limits on how many items you can add at a time or file size limitations like those of the Direct Browser Upload.</p>

<p>To use Import via FTP, you must first transfer your media items to your server and store them in a temporary directory.
Usually this is done using an FTP program (I prefer <a href="http://sourceforge.net/projects/filezilla/" title="http://sourceforge.net/projects/filezilla/">FileZilla</a>,
a flexible and free FTP utility for several platforms).
Once you have uploaded your media items with your FTP client,
you use the FTP Import option to move them into your albums.</p>

<p><b>You must upload your media to the directory specified in the System Configuration FTP Path.</b></p>

<p>Adding media items via FTP import also offers a few other advantages,
Media Gallery can automatically create albums based on sub-directory names making it
very easy and convenient to add a large number of items to your Media Gallery.</p>

<p>For example, if your FTP directory contains: </p>

<pre>	+- vacation pictures<br>	+- school pictures<br>	+- outdoor pictures<br></pre>

<p>Media Gallery will automatically create the albums called: <b>vacation pictures,
school pictures </b>and <b>outdoor pictures.</b> Media Gallery will use the album defaults when creating the albums.</p>

<p>If you Import via FTP your MP3 or OGG files, during the import,
Media Gallery will pull the title and artist information (if available) and place it
in the title field automatically.</p>

<h3><a class="mozTocH3" name="mozTocId246016"></a>Gallery Remote Applet</h3>

<p><a href="http://gallery.menalto.com/wiki/Gallery_Remote" title="http://gallery.menalto.com/wiki/Gallery_Remote">Gallery Remote</a> is a JAVA applet
developed by the <a href="http://gallery.menalto.com/" title="http://gallery.menalto.com/">Gallery Project</a>.
They are gracious enough to publish their API and specifications so it can be integrated into other projects.</p>

<p>With Media Gallery v1.4.4 and above, there is full support for using Gallery Remote as an upload tool.</p>

<p>To use Gallery Remote, it is as simple as
<a href="http://gallery.menalto.com/wiki/Gallery_Remote" title="http://gallery.menalto.com/wiki/Gallery_Remote">downloading</a>
the applet and installing it on your computer.
Once you have it installed,
setup a connection for your Media Gallery site by choosing <b>Add Gallery URL</b>,
the url would be http://www.yoursitehere.com/mediagallery.</p>

<h3><a class="mozTocH3" name="mozTocId248715"></a>JUPLOAD Java Applet</h3>

<p><a href="http://www.jupload.biz/" title="http://www.jupload.biz/">JUPLOAD</a> is a JAVA upload applet.</p>

<p>To use JUPLOAD, you must have the Java Runtime Environment installed on your local computer.
Once the applet is started, you can select the destination album for your uploads via the Album Select drop down menu,
then using the JUPLOAD applet, select which files you wish to upload and submit.</p>

<h3><a class="mozTocH3" name="mozTocId506520"></a>Windows Web Publishing Wizard</h3>

<p>Media Gallery supports uploading directly from Microsoft Windows XP,
using the <i>Web Publishing Wizard</i>.
This is a very easy and convenient method to place media items into your albums.</p>

<p>Microsoft officially removed the &ldquo;Web Publishing Wizard&rdquo; from Windows Vista.</p>

<p>Before you can use the Web Publishing Wizard, you must first tell Windows about your site,
this is done by installing a small registry file that will give Windows the details about your site.</p>

<p>To get this registry file, go into the Media Gallery Upload Screen and select the <b>Windows Publishing</b> tab.
Select the correct registry file for your operating system.
Install this registry file in Windows by either double clicking on the saved file,
or by choosing &rsquo;Run&rsquo; from the download dialog box.</p>

<p>You are now ready to publish to your Media Gallery installation directly from Windows XP.</p>

<p>Open up a folder with images or other media items you wish to publish,
look in the left menu under File and Folder Tasks and you should see Publish this folder to the Web.
If you had selected only a couple of items to publish by first highlighting them in Windows Explorer,
it would read Publish the selected items to the Web.</p>

<p>Follow the Windows prompts until you get to the &rsquo;Select Provider&rsquo; screen,
here you should see your website.
If not, you need to install the registry entries by following the procedure above.</p>

<p>You will need to sign on (the wizard will prompt you for your Geeklog username and password).</p>

<p>You should see a list of your albums now, select the one you want and select Next.
Or, you can create an album at this point, simply choose &rsquo;Create Album&rsquo; button and follow the prompts.</p>

<p>You will be asked if you want to resize the files before uploading.
This is up to you, if you choose to resize your files,
it will generally decrease the time necessary to upload the items,
but Windows XP can alter or destroy some of the embedded EXIF information during the resize.
Also, if you choose to allow your users to utilize the On line Printing Feature,
the smaller you make the original image,
the fewer options your users will have when printing the images.
For example, they will not be able to print a 16x20 inch photograph
if the original size is changed to 1024x768 pixels.
Decide if you want your images resized and then select Next.</p>

<p>Your files should now start uploading.</p>

<p>The Windows Web Publishing Wizard is not very good about reporting errors,
you will want to check your Geeklog error.log
if there were any problems uploading your files.</p>

<p>Keep in mind that the Windows Web Publishing Wizard is under the same size restrictions are uploading via the browser.
So if your PHP installation has a maximum file size of 2 megabytes;
that would be the largest file you can upload through the publishing wizard as well.</p>

<p>Once the wizard has completed the upload, it will log you out of the website.</p>

<div class="notetip">In order to force the logout at the end of the uploads,
Media Gallery tricks the XP Publishing Wizard by placing a dummy upload record at the end of the XML manifest.
This causes the XP Publishing Wizard to report and extra file on the upload.
So, if you are uploading 10 images, the XP Publishing Wizard will actually report x of 11 images uploaded.
Don&rsquo;t be alarmed that the image count is incorrect,
it does not affect the items you upload and it is purely cosmetic.</div>

<h3><a class="mozTocH3" name="mozTocId126156"></a>Uploading ZIP Files</h3>

<p>If you have enabled ZIP file support in the System Options,
you can upload a ZIP file containing images.
Media Gallery will unzip the file, including any embedded sub-directories,
and then import each of the files.
Just like in the FTP Import,
Media Gallery will automatically create albums for each sub-directory found in the ZIP archive.</p>

<h3><a class="mozTocH3" name="mozTocId907379"></a>Uploading Streaming FLV or Embedded Media</h3>

<p>To add streaming / remote media items to your Media Gallery albums,
when you select Add Media there is a new tab called <b>Remote Media</b>.
Select this tab and a new upload form will display.</p>

<p>Upload Fields:</p>

<ul>

  <li>Remote Media Type - there are two choices, Streaming FLV and Embedded Video.</li>

  <li>Thumbnail - If you want to attach a thumbnail to the remote media, specify it here.</li>

  <li>Remote URL - This will be the URL to the streamed Flash Video File
  (i.e; rtmp://www.yourstreamingserver.com/video/videofile.flv).
  Or, if you are adding an embedded video, place the full embed code from the source site.</li>

  <li>Width / Height - This is only valid for streaming Flash Video, provide the playback height and width.
  For embedded video, the playback size is specified in the embed string.</li>

</ul>

<h2><a name="mozTocId781301"></a>Post Upload Processing</h2>

<h3><a class="mozTocH3" name="mozTocId678433"></a>FFmpeg Video Thumbnail Support</h3>

<p>FFmpeg is a complete solution to record, convert and stream audio and video.
It includes libavcodec, the leading audio/video codec library.
FFmpeg is developed under Linux, but it can compiled under most operating systems,
including Windows.</p>

<p>Media Gallery uses FFmpeg to automatically create thumbnails for uploaded videos.
In order to use FFmpeg, it must be available on your web server.
I have found that many hosting providers do not like to install FFmpeg
because it can take a significant amount of resources,
so you may have to either compile and install it yourself,
or locate a precompiled version to install.
I recommend that you use Google&rsquo;s search to find a precompiled version
for you environment if necessary.</p>

<h4><a class="mozTocH4" name="mozTocId525093"></a>Configuring Media Gallery for FFmpeg</h4>

<p>I have also found that there seems to be many different versions of FFmpeg out there,
each with a slightly different set of support and command line options.
To make Media Gallery as flexible as possible,
you can customize exactly how FFmpeg is called.</p>

<p>In Media Gallery&rsquo;s config.php file you will see the following entry:</p>

<pre>$_MG_CONF['ffmpeg_command_args'] = ' -i %s -f mjpeg -t 0.01 -y %s';</pre>

<p>This controls how FFmpeg is called.
In this example, the full command for FFmpeg would be:</p>

<pre>ffmpeg -i INPUTFILE -f mjpeg -t 0.01 -y OUTPUTFILE</pre>

<p>You will see that there are several example command lines in the config.php file,
you may need to experiment with each one to find the one that works best in your environment.</p>

<h4><a class="mozTocH4" name="mozTocId519703"></a>No FFmpeg Support?</h4>

<p>If you do not have FFmpeg available on your web server,
you can still use it locally on your workstation to create thumbnails from video files
and simply attach them to the video through Media Gallery&rsquo;s upload interface.</p>

<p>There are several versions of FFmpeg out there for most operating systems.
Try searching Google of none of the solutions below meet your needs.</p>

<h4><a class="mozTocH4" name="mozTocId395718"></a>Windows XP / Vista</h4>

<p>For Windows users, there is a freely available version of FFmpeg available from Riva.
This utility will create thumbnails and also convert various video formats to Flash Video.</p>

<p>If you wish to use it directly and/or without installing anything,
ffmpeg.exe is directly shipped inside the freeware FLV Converter
(site is currently down - download from this mirror instead).
FLV Converter is just ffmpeg.exe alongside a simple FLV front-end,
that is meant to help you easily use ffmpeg to convert FLV files to AVI/MPG/MP2 formats
(by creating a batch file that uses ffmpeg.exe with all of the right parameters).
Of course, you don&rsquo;t have to use the FLV only front-end,
especially since its AVI output setting is not configured correctly anyway
(it can be easily fixed though by replacing the word &ldquo;copy&rdquo; with &ldquo;mp3&rdquo;
in the created batch file - does anyone feel like creating a new front-end?).</p>

<h4><a class="mozTocH4" name="mozTocId405445"></a>Other Operating Systems</h4>

<p>For those using other operating systems,
there are many precompiled version of FFmpeg available,
a little web searching and I&rsquo;m sure you will find one for your environment.</p>

<h4><a class="mozTocH4" name="mozTocId853222"></a>I Can't Get it To Work!</h4>

<p>When you are first setting up FFmpeg on your web server,
I recommend that you turn on Verbose Logging in Media Gallery&rsquo;s System Options screen.
This will give you much more information in your Geeklog error.log file
to help determine which set of command line options work best in your environment.
What I have found through testing is that many times
if FFmpeg does not support the input or output formats,
it will simply crash and not give any return code.
A little patience and diligence may be required to get it working properly.</p>

<h3><a class="mozTocH3" name="mozTocId258510"></a>Watermarking Image Media</h3>

<p>If you choose, Media Gallery can automatically apply a watermark image
to each image uploaded to your galleries.
Media Gallery includes a Watermark Management system
that allows you or your users (if they have ownership permissions on an album) to upload,
delete and edit watermark images.
To enter the Watermark Management,
select Watermarks from the main Admin dropdown menu in the Album View.</p>

<p>When uploading watermarks, mediagallery.admin have the option to specify if a watermark image should be public or private.
If marked as public, any user who has ownership permissions on an album can use this image as a watermark.
Private images can only be used by the user who uploaded them.</p>

<p>Albums can be configured to automatically watermark images when they are uploaded,
or you can manually watermark images at anytime.
To automatically have them watermarked, enable Auto Watermarking in the Album Edit screen.</p>

<p>To manually or selectively watermark imgaes, this is done in the Media Management screen.
Select the images to watermark and choose Watermarking from the batch dropdown.</p>

<p>Once an image has been watermarked it cannot be watermarked again.</p>

<h3><a class="mozTocH3" name="mozTocId563805"></a>Image Resizing / Limits</h3>

<p>Depending on the album configuration, Media Gallery may need to resize the uploaded image.
If the image is larger than the resolution specified in the album configuration,
Media Gallery will automatically resize the image to be at or below the size specified.</p>

<h3><a class="mozTocH3" name="mozTocId415433"></a>MP3 / OGG Processing</h3>

<p>Media Gallery will apply some additional processing to MP3 and OGG audio files.</p>

<ul>

  <li>If the MP3 file has an embedded thumbnail,
  Media Gallery will extract the thumbnail image and use it as the attached thumbnail for the file.</li>

  <li>Media Gallery will pull the artist, title, genre meta data from the MP3 or OGG audio file
  and populate the caption and description fields with this information.</li>

</ul>

<h1><a name="mozTocId768958"></a>Manage Media Items</h1>

<p>This option allows you to perform batch moves or deletes on media in an album.
It also allows you to manually resort the media in the album
and add a caption to each item in the album.
You can also select which image will be used as the &rsquo;album cover&rsquo; for the album.
This is the image that shows in the album list.</p>

<p>You can also edit the attributes and perform basic image edits
by clicking on the image from the Media Management screen.
This allows you to change the capture time,
rotate the image, and modify the title, description, category or keywords.</p>

<p>You can also zoom in on any media item by selecting its icon;
a full view will be opened in a pop up for viewing.</p>

<p>The following functions can be performed in the Manage Media Screen: </p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <td>Batch Rotate Images</td>
      <td>Select the images you wish to rotate by checking the Select Box to the left of the thumbnail.
      Select the direction to rotate the images from the batch drop down menu and then click the <b>batch</b> button.</td>
    </tr>
    <tr>
      <td>Move media to new album</td>
      <td>Select the media items you wish to move by checking the Select Box to the left of the thumbnail.
      Choose the destination album from the album drop down list and click the <b>move</b> button.</td>
    </tr>
    <tr>
      <td>Delete Media Items</td>
      <td>Select the media items you wish to delete and then click the <b>delete</b> button.<br>
      <b>WARNING:</b> Deletes are permanent, there is not method to recover the items.</td>
    </tr>
    <tr>
      <td>Watermark Images</td>
      <td>If you have enabled watermarking in the album attributes (you have defined a watermark image to use),
      select the images you wish to have watermarked.
      Select Watermark from the batch drop down menu
      (Watermark will not appear if no watermark image has been defined for the album),
      and click the <b>batch</b> button.</td>
    </tr>
    <tr>
      <td>Set Album Cover</td>
      <td>By default, Media Gallery will use the newest image in the album as the <i>album cover</i>,
      but you can specify a specific image to use instead.
      Select the image you wish to use as the album cover by clicking the radio button
      to the right of the thumbnail (Cover Column).
      Be sure to press the <b>save</b> button to save your selection.</td>
    </tr>
    <tr>
      <td>Reset Album Cover</td>
      <td>If you had previously selected a specific image for the album cover
      but now want to return to using the Media Gallery default of showing the newest image,
      select the radio button labeled <b>Reset Album Cover</b>.
      Be sure to click the <b>save</b> button at the bottom to save your selection.</td>
    </tr>
    <tr>
      <td>Sort Media Items</td>
      <td>You can manually sort the order of the media items in your album.
      To the right of the thumbnail is a small entry box with a number in it.
      These numbers control the order the images are presented in the album.
      <b>Larger numbers show first.</b>
      You can change the sort order by changing the numbers in this box.
      Be sure to click the <b>save</b> button at the bottom to save your changes.</td>
    </tr>
    <tr>
      <td>Include in slideshow auto tag</td>
      <td>Media Gallery&rsquo;s slideshow auto tag is a very powerful feature,
      but it does have some limitations.
      If you mix portrait and landscape images in the slideshow auto tag,
      it does not look as nice as having images of all the same size and orientation.
      You can select which images to include in the slideshow auto tag
      by selecting the check box under the <i>Include in SS</i> column.<br>
      <b>NOTE: </b>This does not affect the album Slide Show.</td>
    </tr>
    <tr>
      <td>Edit media items title, description, keywords and category</td>
      <td>You can edit the title, description, add keywords and modify the category
      for each of the items in the album.<br>
      <b>NOTE: </b>The category drop down will not appear
      if there are no categories defined.</td>
    </tr>
  </tbody>
</table>

<p>You can also edit all the attributes of a media item by selecting the <b>[Edit]</b> link below each thumbnail.</p>

<h2><a name="mozTocId716339"></a>Media Edit</h2>

<p>You can edit the specific attributes of a media item by selecting the media&rsquo;s thumbnail from the Manage Media Item screen or from viewing the media item in Media Gallery.</p>

<p>This screen allows you modify the general attributes of the items, such as orientation, title, description, etc.
You can also attach a thumbnail to the media item.
If a thumbnail is attached, that thumbnail image will be displayed when viewing the album thumbnails.</p>

<p><span style="font-weight: bold;">Reset Views</span></p>

<p>This will reset the views counter to 0.</p>

<p><span style="font-weight: bold;">Reset Rating</span></p>

<p>This will erase all existing rating data for this media item.</p>

<p><span style="font-weight: bold;">Original Filename</span></p>

<p>This is the original filename as it was uploaded to Media Gallery.
This is only an informational field that can be used if you need to export your media items.</p>

<p><span style="font-weight: bold;">Attached Thumbnail</span></p>

<p>This option allows you to attach a thumbnail to the media item.
The attached thumbnail will be displayed in the album index view.
If you want to remove an existing attached thumbnail,
simply uncheck the attached thumbnail checkbox.</p>

<p>You can replace an existing attach thumbnail
by selecting the browse button and choosing a new image to upload.</p>

<p><span style="font-weight: bold;">Replace File</span></p>

<p>If you want to re-upload the file or upload a new file to take the place of an existing media item,
select the Replace File checkbox and specify the new file in the entry field.</p>

<p><span style="font-weight: bold;">Alternate URL / Remote URL</span></p>

<p>The Alternate URL is used by auto tags to provide a link to an alternative location instead of the media item view.
Current the fslideshow: auto tag will use this field.</p>

<p>The Remote URL is used by either the Streaming FLV media type or an embedded video.</p>

<p><span style="font-weight: bold;">Title</span><br style="font-weight: bold;"></p>

<p>The media items title.</p>

<p><span style="font-weight: bold;">Description</span></p>

<p>The media items description</p>

<p><span style="font-weight: bold;">Keywords</span></p>

<p>Keywords for this media item to enhance the searching feature.</p>

<p><span style="font-weight: bold;">Category</span></p>

<p>The category this media item should belong to.</p>

<p><span style="font-weight: bold;">Capture Time</span></p>

<p>This allows you to change the capture time stored in the database.</p>

<div class="noteimportant"><span style="font-weight: bold;"> Don&rsquo;t forget
to hit Save to store your modifications in the database
or to upload the new thumbnail or replacement file.</span></div>

<h2><a name="mozTocId83636"></a>Batch Caption Editor</h2>

<p>If you use the Import via FTP or XP Publishing Wizard to upload items to your albums,
you did not have an opportunity to enter a title or description for the items.
The Batch Caption Editor is a streamlined interface designed to quickly
and easily let you add/edit the title and descriptions for your media items.</p>

<h2><a name="mozTocId747225"></a>Sort Media Items</h2>

<p>This option allows you to quickly sort all the media in an album based on
Upload time or Capture Time (it will use the EXIF data if available in your media).
Select which options you desire and submit, all the media items for that album will be resorted.</p>

<h1><a name="mozTocId32228"></a>Media Gallery General Items</h1>

<h2><a name="mozTocId885785"></a>RSS Feeds</h2>

<p>Media Gallery supports a full RSS feed which will include all albums and
also a per-album RSS feed which can be turned on / off in the Album Attribute Editor.
There are two types of RSS feeds, an overall feed which shows all the albums
on your site and then album specific RSS feeds.</p>

<h2><a name="mozTocId331186"></a>Electronic PostCard</h2>

<p>Media Gallery supports sending Electronic PostCards for any of the images in your albums.
This feature can be turned on / off in the Album Attribute Editor.
You can also specify if this feature should be available to all users (even those not logged-in) or only logged-in users.</p>

<p>If you have the CAPTCHA v3 plugin installed, you can also enable a CAPTCHA entry field when sending electronic postcards.
This is just another security feature to ensure that the electronic postcard feature is not abused by spammers.</p>

<h2><a name="mozTocId880455"></a>Moderation</h2>

<p>Media Gallery supports a moderation feature which allows users to upload media items to albums with member upload permissions.
The media items are placed in a moderation queue until a moderator approves or deletes them.</p>

<p>Moderation is configured on an album by album basis.
Each album can have a different set of moderators if you choose.
Moderators are determined by Geeklog groups.</p>

<p>For example, you could create a Geeklog group called &ldquo;Youth Album Moderators&rdquo;.
For a set of albums, you could turn on moderation and select the &ldquo;Youth Album Moderators&rdquo; as the moderator group.
When a user uploads a media item to any of these albums,
all the members of the &ldquo;Youth Album Moderators&rdquo;
group will receive an email notification that a new media items is awaiting moderation
(if configured, email notification can be turned off in the Album Attributes).
Only the members of the &ldquo;Youth Album Moderators&rdquo; group can approve the media items.
The exception is that the Mediagallery Admin group can also approve them as well.</p>

<p>When a moderator logs into the system,
for the albums they moderate, there will be an option on the Administration Drop down menu called Media Queue,
showing the number of items in the queue.
The moderator will enter the Media Queue and either approve or delete the media items.</p>

<h2><a name="mozTocId696648"></a>On line Printing</h2>

<p>Media Gallery supports the ability for your users to print the images in your albums directly through an online service at DigiBug.com.
Integrated online printing can be turned off or on per album.
Digibug.com has an affiliate program, which Media Gallery is a participant,
where the online printing service is offered through Media Gallery, and I, the author of Media Gallery,
will receive a dividend for each image printed through the service.
I have no plans to be able to retire on these dividends; they run a few pennies per image,
so I do not expect to get rich quick.
But, it is a quality service and I welcome the opportunity to offer it through Media Gallery.
I hope you will allow your users to use the feature and all dividends will help fund
the future development of Media Gallery.</p>

<p>Media Gallery is fully integrated with the services offered through Digibug.com and it all appears very seamless to your web site users.
If they wish to print an image,
they will simply click on the DigiBug icon on the lower right corner of the image display.
This will take them to the Digibug.com web site with the image pre-loaded in their cart.
They can choose from a whole list of image sizes and other items such as coffee mugs, t-shirts, etc.
that the image can be printed on to.
They also have the ability to &rsquo;Continue Browsing&rsquo;
which will take them right back to Media Gallery where they left off.</p>

<p>Digibug supports many locations around the globe.
Below is a list of countries they will ship the printed images to: </p>

<h2><a name="mozTocId9477"></a>Batch Processing System</h2>

<p>One of Media Gallery's goals is to be a very resource friendly application,
specifically designed to run in a shared hosting environment.
To accomplish this goal, many batch processes such as FTP Imports, Watermarking or resizing images
is done using the <b>Batch Processing System.</b>
The Batch Processing System takes large batch operations and instead of performing them in one large run,
breaks them up into several smaller runs called <b>cycles</b>.
For example, if you are going to watermark 100 images, Media Gallery will create a <b>batch session</b>
and watermark the images in several cycles.
This approach solves several problems when running in a shared hosting environment.
First, most hosting providers have a maximum amount of time a script can run,
if you exceed that time, the script simply stops.
By processing large operations in smaller chunks, the server will never timeout.
Second, processing image files is a very resource intensive process,
generally taking a large amount of the CPU processor.
Again, in a shared hosting environment, many hosting providers have limits on how much CPU a script can use in a specific timeframe.
To keep you out of trouble with your hosting provider,
Media Gallery's batch processing system will esure that it does not take too many CPU resources.</p>

<h2><a name="mozTocId478715"></a>User Preferences</h2>

<p>Media Gallery allows your site users to specify some preferences in their viewing habits.
Media Gallery will place a menu option under User Functions labeled <strong>MG User Options</strong>.
Registered site users will have the ability to configure the following items:</p>

<ul type="disc">

  <li>Display Rows</li>

  <li>Display Columns</li>

  <li>Audio / Video Playback Type</li>

  <li>Thumbnail size preference</li>

</ul>

<p>Site Administrators can disable this ability or can turn off the ability to configure any of the above items.
In the Media Gallery Administration Screen, select <strong>System Options</strong>
and configure which items a user can configure in the User Preference Overrides section.</p>

<h2><a name="mozTocId199546"></a>Watermarking</h2>

<p>If you choose, Media Gallery can automatically apply a watermark image to each image uploaded to your galleries.
Media Gallery includes a Watermark Management system that allows you or your users
(if they have ownership permissions on an album) to upload,
delete and edit watermark images.
To enter the Watermark Management,
select Watermarks from the main Admin dropdown menu in the Album View.</p>

<p>When uploading watermarks, mediagallery.admins have the option to specify if a watermark image should be public or private.
If marked as public, any user who has ownership permissions on an album can use this image as a watermark.
Private images can only be used by the user who uploaded them.</p>

<p>Albums can be configured to automatically watermark images when they are uploaded,
or you can manually watermark images at anytime.
To automatically have them watermarked, enable Auto Watermarking in the Album Edit screen.</p>

<p>To manually or selectively watermark imgaes, this is done in the Media Management screen.
Select the images to watermark and choose Watermarking from the batch dropdown.</p>

<p>Once an image has been watermarked it cannot be watermarked again.</p>

<h1><a name="mozTocId580924"></a>Geeklog Integration</h1>

Geeklog provides a very rich set of integration API&rsquo;s (application programming interface)
that Media Gallery takes advantage of to create a truly integrated system
which offers a tremendous flexibility for the web site administrator.
The Geeklog Development team did an excellent job of building a foundation
that plugin authors can use to both simplify the coding process and provide a tightly integrated solution.
The following section will detail some of these integrations in more detail.

<h2><a name="mozTocId34513"></a>Comments</h2>

<p>Media Gallery takes full advantage of the Geeklog comment engine,
allowing your site users to leave comments on your media items (if you have enabled comments in the album attributes).
Since Media Gallery uses the Geeklog comment engine,
all the protections provided by the Spam-X plugin to prevent comment spam are also enforced in Media Gallery.
Also, the speed limit restriction (only allowing comments to be posted every XX seconds) is used in Media Gallery.</p>

<h2><a name="mozTocId54737"></a>Auto Tags</h2>

<p>Media Gallery fully supports Geeklog&rsquo;s auto tag feature.
These are tags that are embedded in an article / story that are processed when the article / story is displayed.
Auto tags are one of the most talked about features of Geeklog / Media Gallery.
They can be used to give simple integration of audio and visual components to your Geeklog stories, static pages, forum posts, etc.</p>

<p>All auto tags are immediately followed by either a media ID or an album ID.
Many auto tags support additional parameters to help you control the look and feel of the resulting integration.</p>

<p>Auto tags also honor album permission settings.
If a user does not have the permission to view an album,
any auto tags referencing that album or its contents will not be displayed to that user.
The only exception to this rule is the global <b>Login Required</b> setting.
If you have enabled the <b>Login Required</b> setting, all auto tags will display even though an anonymous user cannot view the album.</p>

<p>Media Gallery also supports a couple of special features when it comes to auto tags.
By default, Media Gallery will alternate the alignment of the thumbnails from left to right throughout your articles.
If you prefer to specify a right, left or no alignment, you can use the align: parameter to force the alignment to your preference.</p>

<h3><a class="mozTocH3" name="mozTocId122342"></a>album:</h3>

<p>The album auto tag will create a thumbnail image using the album cover.
This auto tag can only use the thumbnail image.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Parameter</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>width:##</td>
      <td>Sets the width of the thumbnail image to ## px wide.</td>
    </tr>
    <tr>
      <td>height:##</td>
      <td>Sets the height of the thumbnail image to ## px high.</td>
    </tr>
    <tr>
      <td>align:left, right, auto or none</td>
      <td>Determines the alignment for the auto tag, valid options are left to align left,
      right to align right, auto to have Media Gallery alternate alignment right/left and none for no align.</td>
    </tr>
    <tr>
      <td>linkid:##</td>
      <td>If linkid: is specified, the album auto tag will link to the media item specified with the linkid: parameter.
      Omit the linkid: parameter to have the album auto tag link to the album view.</td>
    </tr>
    <tr>
      <td>border:0/1</td>
      <td>1 places a border (frame) around the thumbnail<br>
      0 will disable the border.</td>
    </tr>
    <tr>
      <td>link:0/1</td>
      <td>1 enables the thumbnail having a link to the album.<br>
      0 disables the hot-link, instead the album cover thumbnail will be displayed with no link.</td>
    </tr>
    <tr>
      <td><i>caption</i></td>
      <td>Any text before the closing <b>]</b> will be used as the caption for the image.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<p>[album:1 width:200 height:200 align:auto border:1 link:1 A sample album auto tag]</p>

<p>This example will place the album cover thumbnail in the story using a height/width of approximately 200x200 pixels.
Media Gallery will preserve the aspect ratio of the image,
so the size may not be exactly 200x200 but it will not be any larger than 200x200.
The alignment of the thumbnail will be automatically alternated between right and left depending on the other auto tags in the story,
it will have a small border around it and will be hotlinked to the album view.
The caption will display below the thumbnail.</p>

<h3><a class="mozTocH3" name="mozTocId433513"></a>media:</h3>

<p>The media auto tag is the general purpose auto tag, it will work with each any of media.
For audio and video media,
it will display the attached thumbnail or the generic media thumbnail if there is no attached thumbnail.
For image media, it will display the media items thumbnail.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Parameter</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>width:##</td>
      <td>sets the width of the thumbnail image to ## px wide</td>
    </tr>
    <tr>
      <td>height:##</td>
      <td>sets the height of the thumbnail image to ## px high</td>
    </tr>
    <tr>
      <td>border:0/1</td>
      <td>1 places a border (frame) around the thumbnail<br>
      0 will disable the border</td>
    </tr>
    <tr>
      <td>align:left, right, auto or none</td>
      <td>Sets the alignment for the auto tag,
      valid options are left to align left,
      right to align right,
      auto to have Media Gallery alternate alignment right/left and none for no align.</td>
    </tr>
    <tr>
      <td>src:orig, disp or tn</td>
      <td>Specifies which image to use as the source,
      the original image (full size), the display image or the thumbnail.
      If no <b>src</b> option is given, the thumbnail image is used by default.</td>
    </tr>
    <tr>
      <td>alt:0/1</td>
      <td>1 will use the alternate URL of the media item for the href link<br>
      0 will link directly to the media item</td>
    </tr>
    <tr>
      <td><i>caption</i></td>
      <td>any text before the closing <b>]</b>
      will be used as the caption for the image</td>
    </tr>
  </tbody>
</table>

<p>For example [media:200706012342 What a pretty flower] will become </p>

<h3><a class="mozTocH3" name="mozTocId312670"></a>img:</h3>

<p>Creates a raw &lt;img&gt; tag of the media item with an optional link to that media item.
The <b>img:</b> auto tag does not support any formatting beyond the thumbnail size and alignment.
The purpose of this auto tag is to give you the ability to place a raw HTML &lt;img&gt; tag in your story.
Also, the <b>img:</b> auto tag does not provide a link to the original image.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Parameter</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>width:##</td>
      <td>sets the width of the thumbnail image to ## px wide</td>
    </tr>
    <tr>
      <td>height:##</td>
      <td>sets the height of the thumbnail image to ## px high</td>
    </tr>
    <tr>
      <td>align:left, right, auto or none</td>
      <td>Sets the alignment for the auto tag,
      valid options are left to align left,
      right to align right,
      auto to have Media Gallery alternate alignment right/left and none for no align.</td>
    </tr>
    <tr>
      <td>src:orig, disp or tn</td>
      <td>Specifies which image to use as the source,
      the original image (full size),
      the display image or the thumbnail.
      If no <b>src</b> option is given,
      the thumbnail image is used by default.</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId609416"></a>slideshow:</h3>

<p>The <b>slideshow</b> auto tag will embed a JavaScript based slide show in your story.</p>

<p>There are a few restrictions with the JavaScript slideshow;
images are not centered, so if you have both landscape and portrait images to display,
the portrait images will align to the left.
To assist you in having full control over this auto tag, in the Manage Media screen for each album,
you have the option to select which image items will be included in the slideshow.
This gives you the ability to select images with similar size and orientation,
which makes for a much prettier slideshow.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Parameter</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>width:##</td>
      <td>sets the width of the thumbnail image to ## px wide</td>
    </tr>
    <tr>
      <td>height:##</td>
      <td>sets the height of the thumbnail image to ## px wide</td>
    </tr>
    <tr>
      <td>border:0/1</td>
      <td>1 places a border (frame) around the thumbnail<br>
      0 will disable the border</td>
    </tr>
    <tr>
      <td>align:left, right, auto or none</td>
      <td>Sets the alignment for the auto tag,
      valid options are left to align left,
      right to align right,
      auto to have Media Gallery alternate alignment right/left and none for no align.</td>
    </tr>
    <tr>
      <td>delay:##</td>
      <td>The number of seconds to display an image before moving to the next one.</td>
    </tr>
    <tr>
      <td><i>caption</i></td>
      <td>any text before the closing <b>]</b>
      will be used as the caption for the image</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId234744"></a>fslideshow:</h3>

<p>Places a Flash based mini-slideshow on your page.
As the images scroll, there will be a link to each individual image.
The caption, if specified, will display below the slideshow.</p>

<p><b>NOTE:</b> The mini-slideshow will not have a border around it.</p>

<p>The Flash mini slideshow will also use the alternate URL field if specified for the media item.
This allows you to have the image link to another article, site, etc.
instead of the Media Gallery media view.</p>

<p>If the user does not have Flash support installed, or is has an older version,
a message informing them of this will be displayed instead of the actual slideshow.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Parameter</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>width:##</td>
      <td>Sets the width of the slideshow to ## pixels wide</td>
    </tr>
    <tr>
      <td>height:##</td>
      <td>Sets the height of the thumbnail image to ## px wide</td>
    </tr>
    <tr>
      <td>align:left, right, auto or none</td>
      <td>Sets the alignment for the auto tag,
      valid options are left to align left,
      right to align right,
      auto to have Media Gallery alternate alignment right/left and none for no align.</td>
    </tr>
    <tr>
      <td>src:tn/disp/orig</td>
      <td><p>Specifies which image to use as the source:</p>
      <ul>
        <li>tn - thumbnail image</li>
        <li>disp - display image</li>
        <li>orig - original image</li>
      </ul></td>
    </tr>
    <tr>
      <td>link:0/1</td>
      <td>0 = no links to the media<br>
      1 = provide links to the media items</td>
    </tr>
    <tr>
      <td>delay:#</td>
      <td>Specifies the number of seconds to display each image before moving on to the next image.</td>
    </tr>
    <tr>
      <td>title:top/bottom</td>
      <td>top = places a title banner at the top of the slideshow,<br>
      bottom = places a title banner at the bottom of the slide show.</td>
    </tr>
    <tr>
      <td><i>caption</i></td>
      <td>any text before the closing <b>]</b>
      will be used as the caption for the image</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId438736"></a>video:</h3>

<p>Places a small (200x200) video player in the article/story for media_id= and auto starts the video playing.
The video auto tag can be used to embed <b>any</b> video item from Media Gallery into a story.
This includes remote video such as YouTube videos.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Parameter</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>width:##</td>
      <td>Sets the width of the video to ## pixels wide</td>
    </tr>
    <tr>
      <td>height:##</td>
      <td>Sets the height of the video to ## pixels wide</td>
    </tr>
    <tr>
      <td>align:auto, none, right, left</td>
      <td>Sets the alignment for the auto tag,
      valid options are left to align left,
      right to align right,
      auto to have Media Gallery alternate alignment right/left and none for no align.</td>
    </tr>
    <tr>
      <td>autoplay:0/1</td>
      <td>If set to 1 the video will automatically begin playing, if set to 0,
      the user will need to press the play button to begin playing.</td>
    </tr>
  </tbody>
</table>

<p><b>NOTE:</b>You cannot change the width / height of embedded remote video files,
the size is controlled by the embed string you specified when the video was added to Media Gallery.
In this case, the width / height parameters are ignored.</p>

<h3><a class="mozTocH3" name="mozTocId141414"></a>audio:</h3>

<p>Places a small (15x200 no thumbnail or 200x200 with thumbnail) audio player in your story.
If there is an attached thumbnail to the audio item,
it will be displayed above the player controls.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Parameter</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>align:auto, none, right, left</td>
      <td>Sets the alignment for the auto tag,
      valid options are left to align left,
      right to align right,
      auto to have Media Gallery alternate alignment right/left and none for no align.</td>
    </tr>
    <tr>
      <td>autoplay:0/1</td>
      <td>If set to 1 the video will automatically begin playing,
      if set to 0, the user will need to press the play button to begin playing.</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId726137"></a>playall:#</h3>

This places a MP3 jukebox into your story.
It will contain a playlist of all the MP3 media in the album.<br>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Parameter</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>#</td>
      <td>Album ID</td>
    </tr>
    <tr>
      <td>align:auto, none, right, left</td>
      <td>Sets the alignment for the auto tag,
      valid options are left to align left,
      right to align right,
      auto to have Media Gallery alternate alignment right/left and none for no align.</td>
    </tr>
    <tr>
      <td>autoplay:0/1</td>
      <td>If set to 1 the video will automatically begin playing,
      if set to 0, the user will need to press the play button to begin playing.</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId534534"></a>download:</h3>

<p>Allows for media items or any item stored in an album to be downloaded by the user.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Parameter</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td><i>caption</i></td>
      <td>any text before the closing <b>]</b>
      will be used as the caption for the image</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId885157"></a>mlink:</h3>

<p>Places a text link to a media item - No thumbnail is used.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Parameter</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>alt:0/1</td>
      <td>1 will use the alternate URL of the media item for the href link<br>
      0 will link directly to the media item</td>
    </tr>
    <tr>
      <td><i>href text</i></td>
      <td>any text before the closing <b>]</b> will be used as the href text</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId105679"></a>image:</h3>

<p>Places a thumbnail image of the specified media item (using media id ).
This does not put a link, only the image.
The caption, if specified, will display below the image.</p>

<p><b>The use of the image: auto tag is depreciated, please use the media: auto tag instead.</b></p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Parameter</th>
      <th style="width:85%">Description</th>
    </tr>
    <tr>
      <td>width:##</td>
      <td>sets the width of the thumbnail image to ## px wide</td>
    </tr>
    <tr>
      <td>border:0/1</td>
      <td>1 places a border (frame) around the thumbnail<br>
      0 will disable the border</td>
    </tr>
    <tr>
      <td>align:left, right, auto or none</td>
      <td>Sets the alignment for the auto tag,
      valid options are left to align left,
      right to align right,
      auto to have Media Gallery alternate alignment right/left and none for no align.</td>
    </tr>
    <tr>
      <td>src:orig, disp or tn</td>
      <td>Specifies which image to use as the source,
      the original image (full size),
      the display image or the thumbnail.
      If no <b>src</b> option is given,
      the thumbnail image is used by default.</td>
    </tr>
    <tr>
      <td>link:0/1</td>
      <td>1 places a link to the display image,
      0 will disable linking to the original image.</td>
    </tr>
    <tr>
      <td><i>caption</i></td>
      <td>any text before the closing <b>]</b> will be used as the caption for the image</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId606100"></a>oimage:</h3>

<p>Creates an &rsquo;original&rsquo; image,
this will use the originally uploaded image so the size can be much larger than the standard thumbnail.</p>

<p><b>The use of the oimage: auto tag is depreciated, please use the media: auto tag.</b></p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th style="width:15%">Parameter</th>
      <th style="width:85%">Description</th>
    </tr>

    <tr>
      <td>width:##</td>
      <td>sets the width of the thumbnail image to ## px wide</td>
    </tr>
    <tr>
      <td>border:0/1</td>
      <td>1 places a border (frame) around the thumbnail<br>
      0 will disable the border</td>
    </tr>
    <tr>
      <td>align:left, right, auto or none</td>
      <td>Sets the alignment for the auto tag,
      valid options are left to align left,
      right to align right,
      auto to have Media Gallery alternate alignment right/left and none for no align.</td>
    </tr>
    <tr>
      <td><i>caption</i></td>
      <td>any text before the closing <b>]</b> will be used as the caption for the image</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId715690"></a>Where do you get the Album ID and the Media ID? </h3>

<p>The Album ID is displayed (only for Administrators only unless you enable Enable Media ID Display)
on the Album View page in the lower left hand corner.
The Album ID is also displayed in the URL,
it is the aid parameter passed in the URL when you are viewing an album.
Look in your browsers address bar to see it or look at your browsers status bar
when you mouse over an album from the main album page.</p>

<p>The Media ID is displayed (only for Administrators only unless you enable Enable Media ID Display)
on the Image Detail page in the left footer.</p>

<h3><a class="mozTocH3" name="mozTocId685853"></a>How do I change the look of the embedded image?</h3>

<p>If you do not like the box drawn around the images,
or what to tweak the look and feel to better fit your site,
you can edit the autotag.thtml template file in the plugins/mediagallery/templates/ directory.
This controls how the embedded image will look.</p>

<h2><a name="mozTocId160636"></a>Auto Links</h2>

<p>Media Gallery v1.6 fully supports Geeklog&rsquo;s auto link features.
This allows you to embed auto tags from other plugins into the title and descriptions of any album or media item.
Auto link support is automatic and there are no configuration options necessary.</p>

<h2><a name="mozTocId741121"></a>Site Statistics</h2>

<p>Media Gallery is fully integrated with Geeklog&rsquo;s statistics engine.
There is nothing special you need to do to take advantage of this feature.
When a user displays the Site Statistics in Geeklog,
Media Gallery will report the total number of images in the system ,
the Top Viewed images and the Top Ranked (if ranking is enabled) images.</p>

<h2><a name="mozTocId169118"></a>Searching</h2>

<p>Media Gallery is fully integrated with Geeklog&rsquo;s search engine.
There is nothing special you need to do to take advantage of this feature.
You should note, that is a media item does not have a caption;
Media Gallery will use the Album Title when displaying the search results.</p>

<p>Media Gallery also has its own search system,
which adds additional features over the standard Geeklog search.
Media Gallery&rsquo;s search allows you to specify a specific category and also search keywords.</p>

<h2><a name="mozTocId593778"></a>What&rsquo;s New Listing</h2>

<p>Media Gallery is fully integrated with Geeklog&rsquo;s What&rsquo;s New block.
This feature can be disabled in the Media Gallery Systems Option screen.</p>

<p>If comments are enabled for Media Gallery,
any new comments to media will also be included in the What&rsquo;s New listing.</p>

<h3><a class="mozTocH3" name="mozTocId397000"></a>Special Consideration for What's New Listing</h3>

<p>If you enable the What's New listing,
Media Gallery will attempt to pull all the new comments for your media to list in the What's New listing.
This can be a very resource intensive operation.
Basically, what goes on behind the scenes on your server is that
the database engine will actually create a temporary copy of the comments database table
and scan each individual record in that file.
This can be a large load on your server if you have hundreds and hundreds of comments.
It has also caused disk space issues on some hosting companies
because they do not allocate much space for the temporary tables that are created.</p>

<p>Because this feature can be very resource intensive,
there is a method to disable pulling the new comments,
but leaving the new media items listing intact.
To disable Media Gallery from trying to retrieve the new comments,
check the check box for <b>Disable What's New </b>Comments in the System Options configuration screen.</p>

<h2><a name="mozTocId519863"></a>Featured Albums</h2>

<p>Just like Geeklog&rsquo;s Featured Article, you can also feature an album.
If an album is featured, it will display on the homepage (or whatever topic page you specify)
either before or after the stories for that page.
Media Gallery offers additional functionality over how Geeklog&rsquo;s featured stories
by allowing you to specify a different featured album for each Geeklog topic.</p>

<p>To make an album featured turn on the Featured Album attribute in the Album Edit screen
and select the topic and location for the album to display.</p>

<h2><a name="mozTocId56915"></a>Random Image Block</h2>

<p>When Media Gallery is installed, it automatically creates a Random Image block in the Geeklog blocks system.
This block is disabled by default and can be enabled by turning it on through Geeklog&rsquo;s Blocks Administration.</p>

<p>The Random Image Block will show a random image from your albums,
changing each time the page reloads and providing a direct link that the album where the image resides.</p>

<h1><a name="mozTocId803390"></a>User Profile</h1>

<p>Media Gallery also integrates with Geeklog's User Profile system,
displaying the last 5 media items uploaded by that user and any albums that the user owns.
If a user has not uploaded any media and does not own any albums,
nothing will be displayed on the user profile page.</p>

<p>This feature can be turned on / off by setting the User Profile Integration option
in Media Gallery's System Options configuration screen.</p>

<h1><a name="mozTocId370857"></a>Media Gallery Look and Feel</h1>

<p>Media Gallery&rsquo;s look is controlled via template files
and all fonts and colors are controlled via the Geeklog theme style sheet.</p>

<p>Media Gallery does have an additional style sheet that is loaded,
it contains styles specific to Media Gallery and generally does not need to be modified.</p>

<p>There are two special alignment classes in the style sheet:</p>

<ul>

  <li>#mgAdminAlignLeft</li>

  <li>#mgAdminAlignRight</li>

</ul>

<p>These two styles control the alignment of all of the admin screens.
If you are using a Right to Left (RTL) language and the alignment does not look good,
all you need to do is modify these two styles to meet your needs.</p>

<p>The <b>MGpluginMI</b> styles should not be altered,
these remove all padding and margins from the Media Gallery images to allow the frames to properly display.</p>

<p>To easily change the color scheme or font in Media Gallery,
you will want to edit the CSS for the .plugin styles located in your Geeklog layout's style.css.</p>

<h1><a name="mozTocId809667"></a>Media Gallery Album Themes</h1>

<p>Media Gallery supports the ability to have a theme for each album and also an overall theme for Media Gallery.
Theme support provides the following benefits:</p>

<ul>

  <li>You should not have to modify the core template files included with Media Gallery,
  instead you should create your own theme and modify the files there.
  This will make future upgrades much easier since your modifications will never be overwritten during the upgrade process.</li>

  <li>Themes allow you to customize each and every part of Media Gallery.</li>

</ul>

<p>Media Gallery themes do not require that you copy every template file over to the new theme directory,
you only need to copy the files you wish to modify.
This means that themes are very small and it is easy to quickly see which files you have modified.
Media Gallery will always look in the theme directory first for a template,
if not found, it will then look in the standard templates/ directory.
This feature will make upgrades much easier and preserve your modifications.</p>

<h2><a name="mozTocId285200"></a>How to Create a Theme</h2>

<p>The easiest way to understand exactly how themes work is to look at the themes included with Media Gallery.
You can quickly see that you only need to copy over the files you wish to modify, so this makes the process much simplier.</p>

<p>The first step in creating a new theme is to create the theme directory.
This directory will be created under plugins/mediagallery/templates/themes/.
The name of the directory will also become the name of the theme.</p>

<p>Next, you will want to copy over just the templates you wish to modify.
Once you've copied over the templates you want to modify, edit them to suit your needs.</p>

<p>Use the default theme's templates as a guide for what template variables are available.</p>

<h2><a name="mozTocId467866"></a>Theme Styles</h2>

<p>You can have a style sheet associated with your theme.
Simply create your stylesheet in the plugins/mediagallery/templates/themes/YOURTHEMENAME/ directory
and make sure it is called <span style="font-weight: bold;">styles.css</span>.
Media Gallery will automatically load that style sheet.</p>

<h2><a name="mozTocId633773"></a>Theme JavaScript</h2>

<p>You can also include a separate JavaScript file for each theme.
Make sure it is named <span style="font-weight: bold;">javascript.js</span>.</p>

<h2><a name="mozTocId740990"></a>Theme Images</h2>

<p>Each theme can have its own set of images too, reference them using a relative path.</p>

<h1><a name="mozTocId164653"></a>Media Gallery Administration</h1>

<p>Media Gallery offers several advanced administration features in the Media Gallery Administration Section.
All functions in this area are only available to site administrators
and those with the <b>mediagallery.admin</b> feature assigned (Media Gallery Admin group).
To enter the Media Gallery Administration screen,
there should be a menu link under <b>Admins Only</b> labeled Media Gallery.
Below is a detailed description of each feature and function available in the Media Gallery Administration section.</p>

<h2><a name="mozTocId555458"></a>Configuration</h2>

<p>The Configuration section allows you to change the behavior of Media Gallery by setting the various configuration options.</p>

<h3><a class="mozTocH3" name="mozTocId135508"></a><a name="System_Options"></a>System Options</h3>

<h4><a class="mozTocH4" name="mozTocId87233"></a>Media Gallery Replaces Geeklog Index Page</h4>

<p>If this option is select,
Media Gallery will replace Geeklog's main index page with Media Gallery's main index.
This option is primarily designed for folks
who simply want to run an only Photo or Media System and not use the stories and other features of Geeklog.</p>

<h4><a class="mozTocH4" name="mozTocId865925"></a>Login Required</h4>

<p>If this is set to Yes, only logged-in members will be allowed to view the Media Gallery albums.
If set to No, anyone can view the Media Gallery Albums.
Keep in mind that each Album has its own set of security features and you can custom configure each album.
This setting is global for all Media Gallery features.</p>

<h4><a class="mozTocH4" name="mozTocId36923"></a>Allow HTML in album/media titles</h4>

<p>If this is set to Yes, HTML will be allowed in Album and Media titles and descriptions.
Media Gallery will enforce the same limits that Geeklog uses for HTML as setup in the Geeklog config.php configuration.
If set to No, HTML will not be allowed in Album/Media titles and descriptions and will be stripped before saving.</p>

<h4><a class="mozTocH4" name="mozTocId431525"></a>Usage Tracking</h4>

<p>Media Gallery has a built in usage tracking system
that will log all visits and media views into the Media Gallery database.
Turning this on will increase the size of your database,
but you will be able to see who is visiting your gallery.</p>

<h4><a class="mozTocH4" name="mozTocId438630"></a>Enable What's New Listing</h4>

<p>If you want your updated albums and any comments entered into your gallery listed in the What's New block of Geeklog, enable this setting.</p>

<h4><a class="mozTocH4" name="mozTocId705132"></a>What's New Title Length</h4>

<p>Media Gallery defaults to 28 characters as the length of the album titles shown in the What's New listing.
If your Geeklog theme or template supports smaller or larger widths,
you can adjust how the number of characters shown in the What's New listing.</p>

<h4><a class="mozTocH4" name="mozTocId537235"></a>What's New Time</h4>

<p>The number of days to use for the What's New listing.
All newly uploaded media items and comments within this time frame will be displayed in the Geeklog What's New listing.</p>

<h4><a class="mozTocH4" name="mozTocId671717"></a>Preserve Original Filename</h4>

<p>Normal operation for Media Gallery is to rename all uploaded items to a very cryptic hash name.
This is done in part for security reasons as it makes it very difficult for someone to guess the filenames.
But, this can cause some issues if you want your users to be able to download items and have a more descriptive name.</p>

<p>By enabling this option, Media Gallery will preserve the original filename, at least most of it.
Media Gallery will still make a small modification to the name,
it will preface the filename with a #_ (where # is 0-f).
This is done because Media Gallery will use the first character of the filename to disburse the files across multiple directories.
This helps Media Gallery scale to thousands of images.
It also helps when you attempt to upload items with the same name.
Media Gallery will also convert all spaces in the name to underscores.</p>

<h4><a class="mozTocH4" name="mozTocId200639"></a>Discard Original Images</h4>

<p>The default configuration for Media Gallery is to create (keep) three separate copies of each image that is uploaded;
The original uploaded image, a display image and a thumbnail image.
By enabling this option,
Media Gallery will <b>not</b> keep the originally upload file,
instead it will create the display and thumbnail images and then delete the uploaded original.</p>

<p>This option is available to those who have no need for the original image and do not wish to keep it.
By setting this value to On, it will automatically disable the full view mode in Media Gallery.</p>

<p>This option is new to v1.4 of Media Gallery and to assist in the removal of the original images (if you so choose),
a new Maintenance Option has been added to the Media Gallery Administrative menu to remove original images.</p>

<p>A great reason to <b>keep</b> original images is;
if you wish to take advantage of the integrated On line Photo printing,
having the original image in full resolution available will allow you or your users
the ability to print larger pictures.</p>

<div class="notetip">This option only affects image files,
it has no affect on QuickTime, Windows Media Player, MP3, MP4 or any other non-image media.
All non-image original files are retained as they are needed by Media Gallery.</div>

<h4><a class="mozTocH4" name="mozTocId903494"></a>Verbose (debug logging)</h4>

<p>If you are trying to diagnose an issue with uploading media,
<b>enabling verbose logging</b> will turn on much more detailed logging of the upload process.
These diagnostic messages will be logged to Geeklog's error.log file.</p>

<h4><a class="mozTocH4" name="mozTocId381939"></a>Disable What's New Comments</h4>

<p>Determining if there are new comments in your albums is a very resource intensive operation.
Since this usually shows on the main page of your site,
you can disable pulling new comments to lessen the load on your server and increase you site's response.</p>

<h4><a class="mozTocH4" name="mozTocId498629"></a>Display MG Info in User Profile</h4>

<p>If this option is checked, Media Gallery will display the last 5 media items uploaded
by the user and the first 20 albums that they own in the user profile display.</p>

<p>If the user has not uploaded any media and does not own any albums,
Media Gallery will <b>not</b> add anything to the user profile display.</p>

<h4><a class="mozTocH4" name="mozTocId818800"></a>Days to retain sent PostCards</h4>

<p>If you enable the PostCard feature in Media Gallery,
all sent postcards are saved in the database to allow the recipient the ability to retrieve them at a later date.
They will be retained for the number of days you specify here.</p>

<h4><a class="mozTocH4" name="mozTocId622507"></a>Date Format</h4>

<p>You can specify a different date format for Media Gallery.
Many times the default date format on Geeklog is a bit too long and does not look very good in Media Gallery listings.</p>

<h4><a class="mozTocH4" name="mozTocId770792"></a>Display Geeklog Blocks</h4>

<p>Geeklog basically has three blocks of information, the left block, center block and right block.
Media Gallery always displays in the center block.
You can configure which of the left / right blocks will be displayed when Media Gallery is being viewed.
Left Blocks Only will display the left block, but not the right block.</p>

<h4><a class="mozTocH4" name="mozTocId206262"></a>Album Display Rows</h4>

<p>This option sets how many rows will be displayed when viewing the Album Index.
The index will display page navigation if necessary.</p>

<h4><a class="mozTocH4" name="mozTocId595982"></a>Album Display Columns</h4>

<p>This option sets how many columns will be displayed when viewing the Album Index.</p>

<h4><a class="mozTocH4" name="mozTocId709394"></a>Show Sub-Albums in Select Box</h4>

<p>If this option is enabled, all sub-albums will display in a drop down select box.
If this option is disabled, the sub-albums will be listed as a bulleted list.</p>

<h4><a class="mozTocH4" name="mozTocId315540"></a>Index Album Frame</h4>

<p>Selects which frame to use for the thumbnail images in the Album Index.</p>

<h4><a class="mozTocH4" name="mozTocId920032"></a>Original JPG Quality</h4>

<p>The quality setting to be used when resizing the originally uploaded image.</p>

<h4><a class="mozTocH4" name="mozTocId233244"></a>Display JPG Quality</h4>

<p>The quality setting to be used when creating the display images.</p>

<h4><a class="mozTocH4" name="mozTocId529279"></a>Thumbnail JPG Quality</h4>

<p>The quality setting to be used when create the thumbnail images.</p>

<h4><a class="mozTocH4" name="mozTocId717250"></a>Gallery View Thumbnail Size</h4>

<p>This setting determines the thumbnail size used in the Gallery View screen.</p>

<h4><a class="mozTocH4" name="mozTocId109636"></a>Enable Media ID display</h4>

<p>Media Gallery requires that you use the media id for several of the auto tags that it supports.
By default, the Media ID is only displayed for administrative users, not normal logged-in users.
By enabling this option, all users will be able to see the Media ID in the media view screen.</p>

<h4><a class="mozTocH4" name="mozTocId544238"></a>Full Image Display in Popup</h4>

<p>If you enable this option, if Full Image Display is enabled,
all full (original) images will be displayed in a popup window.
If this option is not enabled, full images will display inline.</p>

<h4><a class="mozTocH4" name="mozTocId289385"></a>Display Full Comment Bar</h4>

<p>If you have comments enabled for an album, if no comments exist for a media item,
Media Gallery will display <b>Post a Comment</b> at the bottom of the page.
If you would prefer the standard Geeklog comment bar be displayed enable this option.</p>

<h4><a class="mozTocH4" name="mozTocId709049"></a>Birdseed Separator</h4>

<p>This will be the separator used between sections in Media Gallery&rsquo;s birdseed.</p>

<h4><a class="mozTocH4" name="mozTocId352344"></a>Custom Image Height / Custom Image Width</h4>

<p>Media Gallery provides several preset display image sizes,
but if you need a specific image size that Media Gallery does not offer by default,
you can specify that size here.
For each album you have the option to specify the display image size and your custom height / width will presented in the options.</p>

<h4><a class="mozTocH4" name="mozTocId335414"></a>Play audio / video media directly from album view</h4>

<p>Normally, the sequence of showing a media item are: </p>

<ol start="1" type="1">

  <li>Display the album index with thumbnails</li>

  <li>Select the thumbnail to view the display sized media item</li>

</ol>

<p>But, for audio and video media, this sequence does not flow very well.
For example, if you have an audio file in your album,
the user will see the thumbnail for the audio in the album index view,
then have to select that to simply see the thumbnail image again in the media item view.</p>

<p>If you set this option to enabled,
clicking the thumbnail from the album index will immediately launch the audio / video file to the player,
removing one step from the normal viewing process.</p>

<h4><a class="mozTocH4" name="mozTocId818881"></a>Use media / album title as caption for autotags</h4>

<p>If no caption is specified on an auto tag, use the items title instead.</p>

<h4><a class="mozTocH4" name="mozTocId930096"></a>Random Image Block Width</h4>

<p>This option allows you to specify the size of the Random Image Block.
Set the number of pixels wide you wish the block to be.</p>

<h4><a class="mozTocH4" name="mozTocId772099"></a>Truncate Breadcrumbs</h4>

<p>Specify the number of characters each album title should be truncated when displaying in the bread crumb navigation.
A value of 0 disables this feature.</p>

<h3><a class="mozTocH3" name="mozTocId600399"></a>Batch Options</h3>

<h4><a class="mozTocH4" name="mozTocId527375"></a>Refresh Rate </h4>

<p>This option specifies how long Media Gallery should pause between batch cycles.</p>

<h4><a class="mozTocH4" name="mozTocId156399"></a>Maximum items per cycle </h4>

<p>This option specifies the maximum number of items to be processed per cycle.
Generally the batch processing system will run until it hits the maximum allowed execution time.
But, if the maximum execution time is too large,
using the entire time may put too large a load on your server,
especially in a shared hosting environment.
This option will allow you to only process a certain number of items per cycle.</p>

<h4><a class="mozTocH4" name="mozTocId175123"></a>Maximum execution time allowed </h4>

<p>The maximum amount of time the batch processing system can execute per cycle.
If this number is larger than the maximum time allowed by the site configuration,
Media Gallery will use the lower of the two.</p>

<h3><a class="mozTocH3" name="mozTocId242843"></a>User Preference Overrides</h3>

<p>Media Gallery allows your registered site users to override certain default settings.
If you do no wish to have an album setting overridden you can disable the ability for the registered users to specify them.</p>

<h4><a class="mozTocH4" name="mozTocId822697"></a>Enable User to set Display Rows </h4>

<p>If checked, registered users will be able to specify the number of rows to show in the album display.</p>

<h4><a class="mozTocH4" name="mozTocId319994"></a>Enable User to set Display Columns </h4>

<p>If checked, registered users will be able to specify the number of columns to show in the album display.</p>

<h4><a class="mozTocH4" name="mozTocId145638"></a>Enable User to set MP3 Player </h4>

<p>If checked, registered users will be able to choose a default MP3 player.</p>

<h4><a class="mozTocH4" name="mozTocId523582"></a>Enable User to set AV Playback Options </h4>

<p>If checked, registered users will be able to override the album setting for how audio / video files are presented.</p>

<h4><a class="mozTocH4" name="mozTocId987241"></a>Enable User to set Thumbnail Size </h4>

<p>If checked, registered users will be able to override the album setting for thumbnail size.</p>

<h3><a class="mozTocH3" name="mozTocId246318"></a>Graphics Package</h3>

<p>Media Gallery must use an external graphics package to create thumbnails and perform other manipulations on your uploaded media.
Currently, Media Gallery supports ImageMagick, NetPBM and GD Libraries.
Select the one that matches your hosting environment.</p>

<h4><a class="mozTocH4" name="mozTocId641773"></a>Graphics Package Path </h4>

<p>This option specifies where the binary programs for ImageMagick or NetPBM are installed.</p>

<h4><a class="mozTocH4" name="mozTocId139800"></a>Enable JHEAD Support </h4>

<p>JHEAD is a command line utility that will save the EXIF/IPTC data in your images.
By enabling JHEAD support, Media Gallery will be able to save all the EXIF/IPTC data even if it has to resize the original image,
or remove the original image (EXIF/IPTC data will be saved in the display image).</p>

<h4><a class="mozTocH4" name="mozTocId690302"></a>Path to jhead binary </h4>

<p>This is the absolute path on your server where the jhead binary on your server.
Media Gallery will actually look in some of the default locations (/usr/bin, /usr/local/bin, /usr/X11R6/bin)
and if it finds it there will pre-populate this field with the directory.
If you are on a Windows system or have jhead stored in a different location, enter it here.</p>

<h4><a class="mozTocH4" name="mozTocId781272"></a>Enable JPEGTRAN Support </h4>

<p>JPEGTRANS is a lossless tool for manipulating JPG images.
It will allow for images to be rotated on line without loosing any quality.</p>

<h4><a class="mozTocH4" name="mozTocId396279"></a>Path to jpegtran binary </h4>

<p>This is the absolute path on your server where the jpegtrans binary on your server.
Media Gallery will actually look in some of the default locations (/usr/bin, /usr/local/bin, /usr/X11R6/bin)
and if it finds it there will pre-populate this field with the directory.
If you are on a Windows system or have jpegtrans stored in a different location, enter it here.</p>

<h4><a class="mozTocH4" name="mozTocId559811"></a>Enable ZIP Uploads </h4>

<p>If enabled, you will be able to upload .zip files that contain media items.
Media Gallery will automatically unzip the archive and process all the files included in the archive.</p>

<h4><a class="mozTocH4" name="mozTocId106347"></a>Path to unzip program </h4>

<p>This is the absolute path on your server where the unzip program is stored.
Media Gallery will actually look in some of the default location (/usr/bin, /usr/local/bin, /usrX11R6/bin)
and if it finds it there will pre-populate this field with the proper directory.
If you are on a Windows system, or have unzip stored in a different location, enter it here.</p>

<h4><a class="mozTocH4" name="mozTocId439427"></a>Path to temporary directory </h4>

<p>Media Gallery requires that a temporary directory exist where it can read/write temporary files as it processes media items and zip files.
Enter the absolute path on your server for this directory.
Media Gallery will default to $_CONF[&rsquo;path&rsquo;] /plugins/mediagallery/tmp.</p>

<h4><a class="mozTocH4" name="mozTocId313874"></a>FTP Path Directory </h4>

<p>Media Gallery requires that the FTP directory be specified in the on line configuration.
This is a safety feature to keep the FTP import from looking in directories where it shouldn&rsquo;t.
Enter the absolute path on your server for this directory.
Media Gallery will default to $_CONF[&rsquo;path&rsquo;] /plugins/mediagallery/uploads/.</p>

<h2><a name="mozTocId30100"></a>EXIF/IPTC Administration</h2>

<p>Media Gallery has the ability to display the embedded EXIF/IPTC data that is stored in your images by your digital camera.
If you wish to use this feature, you will need to tell Media Gallery which EXIF/IPTC data elements you want displayed.
Please note, not all data elements are actually stored in your image, this depends on the digital camera or scanning process.
By default, there are a few key items already enabled.</p>

<p>To select which EXIF/IPTC data elements are available for display,
enter the Media Gallery Configuration Screen and select EXIF/IPTC Administration.
This will present you with a list of all the EXIF/IPTC elements that Media Gallery recognizes.
You should check the checkbox to the right of the elements you want to be displayed with your images.</p>

<p>Keep in mind, you can enable / disable EXIF/IPTC support for each of your albums in the album configuration screen.
You can also choose how the EXIF/IPTC data elements are displayed,
below the media item, in a popup window or both.</p>

<h2><a name="mozTocId266603"></a><a name="Category_Maintenance"></a>Category Maintenance</h2>

<p>Media Gallery allows you to create categories to help organize your media items.
Categories are only used in the Media Gallery search function.
You can limit your search to a specific category, or search for all items in a specific category.</p>

<p>Using this option, you can add, edit and delete your categories.</p>

<h2><a name="mozTocId87981"></a><a name="Reset_System_Options"></a>Reset System Options</h2>

<p>This function will <b>reset</b> all configuration options in Media Gallery back to the installation defaults.
Generally this is only used when testing new releases,
but can be a quick method to return to the installation defaults if you have the need.</p>

<h2><a name="mozTocId755594"></a>Configuration File Directives</h2>

<p>All but a few of Media Gallery&rsquo;s configuration options are available in the On line interface documented above.
But there are a couple of specific items that can be changed in the config.php file located in the plugins/mediagallery/ directory: </p>

<h3><a class="mozTocH3" name="mozTocId383647"></a>Media Gallery Path&rsquo;s / Location (config.php)</h3>

<p>By default, Media Gallery is designed to be run from the public_html/mediagallery/ directory.
You may change this location by changing the following config.php variables: </p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <td>$_MG_CONF[&rsquo;path_mg&rsquo;]</td>
      <td>This specifies which directory under public_html/ where the Media Gallery files are located.</td>
    </tr>
    <tr>
      <td>$_MG_CONF[&rsquo;path_html&rsquo;]</td>
      <td>This value should not be modified.</td>
    </tr>
    <tr>
      <td>$_MG_CONF[&rsquo;site_url&rsquo;]</td>
      <td>This value should not be modified.</td>
    </tr>
    <tr>
      <td>$_MG_CONF[&rsquo;admin_url&rsquo;]</td>
      <td>This is the full URL for the Media Gallery administration directory.</td>
    </tr>
    <tr>
      <td>$_MG_CONF['path_mediaobjects']</td>
      <td>This is the full path to your <span style="font-style: italic;">mediaobjects</span> directory.
      <span style="font-weight: bold;">NOTE:</span> You can change the name of the mediaobjects/ directory if you wish.<br>
      <span style="font-weight: bold;">This must end with a /</span></td>
    </tr>
    <tr>
      <td>$_MG_CONF['mediaobjects_url']</td>
      <td>This is the full URL to your <span style="font-style: italic;">mediaobjects</span> directory.</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId830305"></a>Global Options</h3>

<p>The following settings will change some of the default behavior of Media Gallery.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <td>$_MG_CONF[&rsquo;disable_version_check&rsquo;]</td>
      <td>If this is set to 1, it will disable the automatic version check that Media Gallery performs when entering the Administration Screen.
      If 1, Media Gallery will not try to contact <a href="http://www.gllabs.org/">www.gllabs.org</a> to determine if you have the latest version installed.</td>
    </tr>
    <tr>
      <td>$_MG_CONF[&rsquo;mediamanage_items&rsquo;]</td>
      <td>The Media Manage screen can be very resource intensive when you have several hundred items in an album.
      If you run into issues using this screen, decrease the number of items shown by lowering this number.</td>
    </tr>
    <tr>
      <td>$_MG_CONF[&rsquo;do_not_convert_original&rsquo;]</td>
      <td>By default, Media Gallery will convert all uploaded images to JPG format.
      If you do not want Media Gallery to perform this conversion, set this to 1.</td>
    </tr>
    <tr>
      <td>$_MG_CONF['disable_search_integration']</td>
      <td>Disable Media Gallery's search integration with Geeklog.</td>
    </tr>
    <tr>
      <td>$_MG_CONF['im_keep_profiles']</td>
      <td>With ImageMagick, you can keep the JPEG profile data (EXIF) in the display and thumbnail images.
      Set this variable to 1 to keep this data.
      It will make these files a little bit larger.
      On Solaris, setting this option to 1 seems to break the convert command.</td>
    </tr>
    <tr>
      <td>$_MG_CONF['skip_file_find']</td>
      <td>Media Gallery will attempt to automatically locate some of the external utilities.
      If your PHP installation has open_basedir restrictions enabled this can cause some issues.
      Set this variable to 1 to skip the automatic searching.</td>
    </tr>
    <tr>
      <td>$_MG_CONF['use_default_resolution'] </td>
      <td>If set to 1, MG will not automatically populate the video playback resolution,
      instead it will use the default settings.</td>
    </tr>
    <tr>
      <td>$_MG_CONF['use_wmp_mpeg']</td>
      <td>By default, Media Gallery will play MPEG videos with Apple's QuickTime player.
      If you wish to use Microsoft's Windows Media Player instead, set this variable to 1.</td>
    </tr>
    <tr>
      <td>$_MG_CONF['use_upload_time']</td>
      <td>By default, Media Gallery will attempt to extract the actual image capture date from the meta data included by many digital cameras and graphics packages.
      If you prefer to always use the upload date (the date you added the image to your Media Gallery album) as the displayed date,
      set this variable to 1.<br>
      </td>
    </tr>
    <tr>
      <td>$_MG_CONF['template_path']</td>
      <td>By default, Media Gallery references its templates from the plugin directory.
      If you want to have separate templates for each of your themes, set the path to the template directory here.</td>
    </tr>
    <tr>
      <td>$_MG_CONF['ffmpeg_command_args']</td>
      <td>There are lots of versions of ffmpeg out there, some work with one set of switches and some don't.
      You can easily modify the commands used to create thumbnails from videos by modifying the arguments below.
      The first %s is the source video and the second %s is the destination thumbnail, both %s need to be in the command.</td>
    </tr>
    <tr>
      <td>$_MG_CONF['thumbnail_actual_size']</td>
      <td>By default, Media Gallery sizes all thumbnails to 200x200 pixels.
      Media Gallery will size them down dynamically based on the album configuration by passing a smaller width / height to the &lt;img&gt; tag.
      If you would prefer to have Media Gallery size the thumbnail to the size specified in the album configuration, set this value to 1.</td>
    </tr>
    <tr>
      <td>$_MG_CONF['rating_speedlimit']</td>
      <td>Number of seconds a user must wait between rating media objects.</td>
    </tr>
  </tbody>
</table>

<p>Media Gallery allows you to specify the default thumbnails for non-media types (zip, doc, xls, pdf, etc...).
The following config entries will control which thumbnail is used based on file extension:</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <td>$_MG_CONF['dt']['doc']</td>
      <td>doc.png</td>
    </tr>
    <tr>
      <td>$_MG_CONF['dt']['pdf']</td>
      <td>pdf.png</td>
    </tr>
  </tbody>
</table>

<p>You will need to place the thumbnail files into the public_html/mediagallery/mediaobjects/ directory.</p>

<h2><a name="mozTocId424871"></a>System Defaults Editor</h2>

<p>Media Gallery has several configuration options for how albums will act and how your multi-media files will be presented.
Setting up your defaults to your personal taste will make album creation easier and faster.</p>

<h3><a class="mozTocH3" name="mozTocId62126"></a>Album Defaults</h3>

<p>This function allows you to configure the default values for each attribute of an album.
These will become the default values used when creating an album.
For details on each item and their options, please refer to Creating An Album.</p>

<h3><a class="mozTocH3" name="mozTocId252334"></a>Audio / Video Defaults</h3>

<p>This function allows you to configure the default values for each feature of the audio / video playback
for MP3&rsquo;s, QuickTime Player and Windows Media Player.
For specific details on each item and their options, please refer to Audio / Video Attributes for Media Items.</p>

<h3><a class="mozTocH3" name="mozTocId392216"></a>Global Perm Edit</h3>

<p>You can globally change the permissions for all of your albums using the Global Album Permission Editor.</p>

<h3><a class="mozTocH3" name="mozTocId819240"></a>Global Album Edit</h3>

<p>You can globally change an attribute for all of your albums using the Global Album Attribute Editor.
This screen gives you a list of all available album attributes;
you will need to check the <b>Update</b> check box for the attributes you wish to change.
On submit all albums will be updated with the new attributes.</p>

<h2><a class="mozTocH3" name="mozTocId838177"></a>Media Queue</h2>

<p>The Media Queue will display all items currently in the Moderation Queue waiting for approval.</p>

<p>To approve the media items, select the Approve radio button.
These items will be placed in their destination album
and the user who uploaded the items will receive email notification that their media items have been approved.</p>

<p>To disapprove (delete) the media items, select the Delete radio button.
The items will be deleted.
No notification will be sent to the user who uploaded the media item.</p>

<h2><a name="mozTocId675193"></a>Member Albums</h2>

<p>Member Albums are a special feature of Media Gallery v1.5
that allows the site administrator to give their site users their own album or albums to upload media into.
Member Albums are special in that there are some protected options the member cannot configure,
such as setting the album as a <b>featured album</b> or turning on/off moderation.
As the site administrator you can specify certain restrictions such as maximum allowed file size,
maximum resolution of images or overall disk usage quotas for your members.</p>

<h3><a class="mozTocH3" name="mozTocId110583"></a><a name="Member_Album_Options"></a>Member Album Options</h3>

<p>The following options can be configured for Member Albums.
<b>Note: </b>These are the default setting used when a member album is created.
Any changes to the Album Attributes or Access Rights will not affect existing Member Albums.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <td colspan="2"><b>Member Albums</b></td>
    </tr>
    <tr>
      <td>Enable Member Albums </td>
      <td>This will turn on / off the features of Member Albums.
      Basically if Member Albums are not enabled,
      auto-create and auto-delete functions will not be performed.</td>
    </tr>
    <tr>
      <td>Default Member Quota</td>
      <td>The default quota new Member Albums should start with, <b>0 </b>means no quota.</td>
    </tr>
    <tr>
      <td>Auto Create Albums </td>
      <td>By enabling this option, when a new user registers with your site they will have a Member Album automatically created for them.</td>
    </tr>
    <tr>
      <td>Allow Creation under Member Root</td>
      <td>By default, members can only have one album directly under the Member Album Root Album.
      If you enable this feature, members can create as many albums as they wish directly under the Member Album Root album.</td>
    </tr>
    <tr>
      <td>Member Albums Root Album </td>
      <td>Specifies the root album that all member albums should be created under.</td>
    </tr>
    <tr>
      <td>Archive Deleted Member Albums </td>
      <td>What action to perform with Member Albums when the member is deleted from the Geeklog user database.</td>
    </tr>
    <tr>
      <td colspan="2"><b>Album Attributes</b></td>
    </tr>
    <tr>
      <td>Include in Random Image Block </td>
      <td>Determines if new member albums should be included in the <b>Random Image Block</b></td>
    </tr>
    <tr>
      <td>Maximum Image Width</td>
      <td>Maximum resolution (width and height in pixels) allowed in the member album.
      Anything larger will automatically be resized when uploaded.</td>
    </tr>
    <tr>
      <td>Maximum Image Height </td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Maximum allowed file size </td>
      <td>Specifies the maximum file size that may be uploaded into Member Albums.</td>
    </tr>
    <tr>
      <td>Allow registered users to upload media to album </td>
      <td>Whether or not to allow logged-in site users the ability to upload to other&rsquo;s Member Album </td>
    </tr>
    <tr>
      <td>Turn on moderation for this album </td>
      <td>Enable or disable moderation for Member Albums </td>
    </tr>
    <tr>
      <td>Moderator Group </td>
      <td>Which Geeklog Group will be the moderator group (if enabled).</td>
    </tr>
    <tr>
      <td>Email Moderators on Submission </td>
      <td>Email Moderators when new media is uploaded </td>
    </tr>
    <tr>
      <td colspan="2"><b>Access Rights</b></td>
    </tr>
    <tr>
      <td>Owner Permission </td>
      <td>Default owner permission for new Member Albums.</td>
    </tr>
    <tr>
      <td>Group Permission </td>
      <td>Default group permission for new Member Albums.</td>
    </tr>
    <tr>
      <td>Member (Logged-in User) Permission </td>
      <td>Default permission for Logged-in Users </td>
    </tr>
    <tr>
      <td>Anonymous Permission</td>
      <td>Default permission for anonymous users</td>
    </tr>
  </tbody>
</table>

<p>Be sure to click the <b>save</b> button to store the default settings.</p>

<h3><a class="mozTocH3" name="mozTocId741721"></a>Member Album User list</h3>

<p>This will show a list of all site users with information specific to their Media Gallery / Member Album quota usage.
The list will show the following items: </p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <td>User Name</td>
      <td>Their Geeklog Username</td>
    </tr>
    <tr>
      <td>Active</td>
      <td>Whether or not they are an <b>active Member Album</b> user.
      If you have a user who abuses their Member Album privileges,
      or you need to suspend their administrative access to their Member Album,
      you can turn off the active flag and they will only have READ access to their Member Albums.</td>
    </tr>
    <tr>
      <td>Quota</td>
      <td>The total amount of disk space the user can consume.</td>
    </tr>
    <tr>
      <td>Quota Used</td>
      <td>The total amount of disk space currently used by the user.</td>
    </tr>
  </tbody>
</table>

<p>To edit the user&rsquo;s quota or active flag, simply click on the user name and a small edit screen will appear.
You can change the Active flag or the user&rsquo;s quota.
Be sure to click <b>save</b> to store the new values.</p>

<h3><a class="mozTocH3" name="mozTocId454098"></a>Batch Create Member Albums</h3>

<p>If you are just installing Media Gallery or upgrading you may have a number of users already on your site.
This utility will allow you to create Member albums for any of your existing site users.
Simply check the check box next to their name and <b>save</b>.</p>

<p>Another use for <b>Batch Create Member Albums</b> could be if you decided to <b>not</b> use the auto-create feature.
Depending on how you administer your site, you could require that site users who want a Member Album must email you to request it.
Using the <b>Batch Create Member Albums</b> feature will make creating these albums very easy.</p>

<h3><a class="mozTocH3" name="mozTocId286901"></a>Purge Member Albums</h3>

<p>To help manage empty user albums, the <b>Purge Member Albums</b> function will present you with a list of only <b>empty </b>Member Albums, who is the owner and when they last logged into your site.
This should make house keeping duties of removing non-used Member Albums much easier.</p>

<h3><a class="mozTocH3" name="mozTocId589409"></a>Reset Member Album Create Flag</h3>

<p>This function should not have to be used often and more of a development tool than a standard administration tool.
This feature will check each of your site users from the Geeklog database and verify if they have a Member Album.
If they do, it will ensure their member_gallery flag is set to 1 and if they don&rsquo;t it will ensure their member_gallery flag is set to 0.
The <i>member_gallery</i> flag is used internally by Media Gallery to determine if the user should be included in the Batch Create Member Albums list and also in a few other places.</p>

<p>If you where to move your Member Album Root, you may want to run this utility to ensure everything is in sync.</p>

<p>Media Gallery should keep the <i>member_gallery</i> flag properly set without having to run this utility, but just incase it is here if you need it.</p>

<h2><a name="mozTocId979613"></a>RSS Feeds</h2>

<p>Media Gallery will support a full RSS feed which will include all albums and also a per-album RSS feed which can be turned on / off in the Album Attribute Editor.
Media Gallery supports the following RSS types; RSS2.0, RSS1.0, RSS0.91, ATOM, ATOM0.3.</p>

<h3><a class="mozTocH3" name="mozTocId710230"></a>RSS Feed Options</h3>

<p>Here you will configure how RSS feeds will work for your site&rsquo;s Media Gallery: </p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <td>Build Full Album RSS Feed </td>
      <td>This option allows you to create a feed for all of your albums </td>
    </tr>
    <tr>
      <td>RSS Feed Type</td>
      <td>Select which RSS Format to use.</td>
    </tr>
    <tr>
      <td>Exclude Empty Albums </td>
      <td>This will exclude any albums that do not contain media items </td>
    </tr>
    <tr>
      <td>Only include albums available to the public </td>
      <td>This will allow you to only include albums that allow anonymous access</td>
    </tr>
    <tr>
      <td>Hide Email in RSS Feed</td>
      <td>This will allow you to exclude (hide) the email address in the RSS feed.</td>
    </tr>
    <tr>
      <td>Base filename for feed</td>
      <td>This is the base file name, Media Gallery will automatically place the extension <b>.rss</b> onto the Full Feed, and will create files named: basefilename##### .rss for your album feeds, where ##### is the album id.</td>
    </tr>
  </tbody>
</table>

<h3><a class="mozTocH3" name="mozTocId85678"></a>Rebuild Full RSS Feed</h3>

<p>This function will rebuild the <b>full</b> Media Gallery RSS feed.
Normally you should not have to use this function as the feeds will be maintained automatically any time you make a change (upload, move, delete) items from your albums.</p>

<p>If you were to make several title / description edits to your media, you may want to rebuild the full RSS feed to ensure these changes are included.</p>

<p>Also, when you first enable the RSS Full Feed, you may want to run this to do the initial creation of the file.</p>

<h3><a class="mozTocH3" name="mozTocId706619"></a>Rebuild All Album RSS Feeds</h3>

<p>This function will rebuild all of the individual Media Gallery album feed files for those albums that have RSS enabled.
Normally you should not have to use this function as the feeds will be maintained automatically any time you make a change (upload, move, delete) items from your albums.</p>

<p>If you were to make several title / description edits to your media, you may want to rebuild the albums RSS feed to ensure these changes are included.</p>

<h2><a name="mozTocId304644"></a>Reports</h2>

<p>As Media Gallery continues to add features and functions, more reports may become available.
Currently only one report is available; </p>

<h3><a class="mozTocH3" name="mozTocId339071"></a>Usage Reports</h3>

<p>This will allow you to generate a Usage Report from the Usage Tracking database, if you have Usage Tracking enabled.
This report will show what users have visited Media Gallery and the specific items they viewed.</p>

<h2><a name="mozTocId288811"></a>Batch Sessions</h2>

<p>Media Gallery&rsquo;s Batch Processing System allows you to perform large time and resource consuming tasks without worrying about overloading or optimizing the resources on your server.</p>

<h3><a class="mozTocH3" name="mozTocId509732"></a>Paused Sessions</h3>

<p>When a batch process has started, you can interrupt it if necessary by selecting the <b>cancel</b> button from the Batch Processing System screen.
This effectively pauses the batch session.
The Paused Sessions will list all paused batch sessions.
You can continue the session by selecting the <b>continue </b>link or delete them by selecting the Select checkbox and clicking the <b>delete</b> button.</p>

<h3><a class="mozTocH3" name="mozTocId105754"></a>Rebuild Thumbs</h3>

<p>This will rebuild all thumbnails in the system using Media Gallery Batch Processing System.</p>

<p>If you have upgraded from a version of Media Gallery prior to v1.2, you may want to rebuild all your thumbnails to take advantage of the larger thumbnail size supported in v1.2 and above.</p>

<p>Other reasons to rebuild all your thumbnails could be if you lost the files on your server.</p>

<p>There is also an option to just rebuild thumbnails for a specific album available in the Album view&rsquo;s Option Menu.</p>

<h3><a class="mozTocH3" name="mozTocId151221"></a>Resize Images</h3>

<p>This will rebuild all the display images in your system using Media Gallery&rsquo;s Batch Processing System.
If you were to change the display image size for all of your albums, this is a quick and convenient method to rebuild all those images using the new size.</p>

<h3><a class="mozTocH3" name="mozTocId462948"></a>Discard Original Images</h3>

<p>This option will remove the originally uploaded images from your system, leaving just the display and thumbnail image.
You must have the System Option <b>Discard Original Images</b> turned on to use this function.</p>

<p>This function performs several operations to ensure EXIF/IPTC data from the original image is preserved and that the database is properly updated.</p>

<p>If you choose to remove your originally uploaded images, this is the only method you should use to remove any existing original images on your system.</p>

<p><b>Once you remove the original images, there is no simple method to get them back!</b></p>

<h3><a class="mozTocH3" name="mozTocId939717"></a>Rebuild User Quota&rsquo;s</h3>

<p>Media Gallery maintains how much disk space each of your site users have used.
The maintenance function will rebuild the quota count.
Under normal operations, you should not have to run this utility.</p>

<h3><a class="mozTocH3" name="mozTocId667276"></a>Static Sort Albums</h3>

<p>This function provides a very quick and simple method to sort <b>all</b> of your albums by one of the following attributes: </p>

<ul>

  <li>Album Title</li>

  <li>Media Count</li>

  <li>Last Update</li>

</ul>

<p>You can select a starting album and whether or not the sort should also sort each sub-album.</p>

<h3><a class="mozTocH3" name="mozTocId213301"></a>Static Sort Media</h3>

<p>This function provides a quick and simple method to sort all the media items in your albums by one of the following: </p>

<ul>

  <li>Media Capture Time</li>

  <li>Media Upload Time</li>

  <li>Media Title</li>

  <li>Original Filename</li>

</ul>

<p>You can select which album to start sorting and whether the sorting should process any sub-albums.</p>

<h3><a class="mozTocH3" name="mozTocId507496"></a>Batch Delete Albums</h3>

<p>This feature will list all albums on your site and provides you with a quick and simple interface to delete multiple albums.
<b>ALL MEDIA ITEMS IN THE ALBUMS ARE ALSO DELETED!</b> There is not confirmation page, the albums and media are simply removed.</p>

<p><b>USE THIS WITH CAUTION!</b></p>

<h2><a name="mozTocId735663"></a>Utilities</h2>

<h3><a class="mozTocH3" name="mozTocId77245"></a>Geeklog Log Viewer</h3>

<p>I have included Tom Willet's Log Viewer in the Media Gallery Administration Screen.
This is a great little tool for viewing the Geeklog error.log and access.log on line.
This option is available from the Media Gallery Administration Screen.</p>

<p>The log viewer will allow you to easily view any of your Geeklog logs online and delete their contents if you wish.</p>

<h3><a class="mozTocH3" name="mozTocId666851"></a>PHP Information</h3>

<p>This option will display the PHP Information Page for your server.
It can be very useful in determining how PHP is installed and configured on your site.</p>

<h3><a class="mozTocH3" name="mozTocId764400"></a>FileCheck</h3>

<p>FileCheck is a handy utility that will scan your Media Gallery installation and report any old or obsolete files.
It can be used to help remove any old, no longer used Media Gallery source files or templates.</p>

<p>FileCheck will use the files included in the Media Gallery distribution as the list for comparison.
If you have added or created new files, they will appear on the list, <b>make sure you are not deleting files you have created or want to keep!</b></p>

<p><b>It is always a good idea to have a back up of your installation before running FileCheck.</b></p>

<h3><a class="mozTocH3" name="mozTocId136199"></a>Usage Documentation</h3>

<p>This will provide a link to this documentation in HTML format.</p>

<h1><a name="mozTocId662715"></a>Support</h1>

<p>Media Gallery has a dedicated website to provide support and updates;
<a href="http://www.gllabs.org/" title="http://www.mediagallery.org">Media Gallery Support Site</a>.
There are online forums to discuss installation and usage issues and an online FAQ to help answer some common questions.
There is an active user community to help provide support and the author of Media Gallery keeps a close eye on the support forums and is always happy to provide assistance when needed.</p>

<h1><a name="mozTocId899144"></a>Common Problems and Troubleshooting</h1>

<p>Media Gallery has been designed to run in many diverse environments, but there are always issues that pop up.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th class="nowrap">Symptom</th>
      <td>Uploading media items results in a blank page.</td>
    </tr>
    <tr>
      <th class="nowrap">Solution</th>
      <td>Generally this is a result of trying to upload a file that is larger than the file size specified in the following php.ini configuration directives.</td>
    </tr>
  </tbody>
</table>

<ul type="disc">

  <li>post_max_size</li>

  <li>upload_max_filesize</li>

</ul>

<p>Verify that the php.ini settings are large enough to allow the file upload.</p>

<p>Another issue that can cause a blank screen after upload is insufficient memory.
Most default PHP installations are configured to use a maximum of 8 Mb of memory per process.
Media Gallery requires at least 48 Mb of memory to process larger image files.
Check the value of the <b>memory_limit</b> directive in your php.ini.
Depending on what Graphics Program you are using and the size of the media being uploaded, you may need more than 48M of memory.
Search your web server's error log file for the following error:</p>

<p>Put memory exhausted error here....</p>

<p>If these solutions do not solve the issue, check your web server&rsquo;s error log file to see if there are any diagnostic messages.
Please post the issue at the Media Gallery Support site&rsquo;s forums.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th class="nowrap">Symptom</th>
      <td>Thumbnails and display images are not being created after image upload.</td>
    </tr>
    <tr>
      <th class="nowrap">Solution</th>
      <td>Validate that the directory permissions will allow the web server write access to all the sub-directories under public_html/mediagallery/mediaobjects/.</td>
    </tr>
  </tbody>
</table>

<p>Also, double check to ensure your graphics package is properly configured.</p>

<p>Both of these can be checked by going into the Media Gallery Administration Screen, selecting System Options and saving.
Media Gallery will run a self-check to validate directory permissions and graphics package.
If any errors are reported try to fix the issue and try again.</p>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th class="nowrap">Symptom</th>
      <td>An error has occurred:<br>
      2 - fopen(/path/to/geeklog/logs/error.log) [function.fopen]: failed to open stream: Permission denied @ /path/to/geeklog/public_html/lib-common.php line 1807</td>
    </tr>
    <tr>
      <th class="nowrap">Solution</th>
      <td>This is an easy one.
      The web server does not have write permissions to the /opt/lampp/logs directory or the file /opt/lampp/logs/error.log.
      This is Geeklog's error log file and Media Gallery tries to log the install steps there.<br>
      If you can make sure the web server can write to that directory you should be back in business.</td>
    </tr>
  </tbody>
</table>

<table class="mg_admin_table">
  <tbody>
    <tr>
      <th class="nowrap">Symptom</th>
      <td>An error has occurred:<br> 2 - file_exists() [function.file-exists]: open_basedir restriction in effect.
      File(/usr/X11R6/bin/jhead) is not within the allowed path(s): (/home/mfxnjunn/:/usr/lib/php:/usr/local/sqmail:/usr/local/lib/php:/tmp) @ /home/mfxnjunn/public_html/lfp/admin/plugins/mediagallery/cfgedit.php line 240</td>
    </tr>
    <tr>
      <th class="nowrap">Solution</th>
      <td>This is sort of a permission problem.
      One of the things Media Gallery does is when you enter the configuration screen it tries to proactively find the external programs it wants to use.
      Jhead is one of those programs.<br>
      On sites that have PHP configured with open_basedir restrictions, that means that PHP is not allowed to access a file unless it's directory is specifically listed in the allowed directory list.
      Media Gallery is trying to look in a directory that is not allowed, so you get the error.<br>
      You can disable this check by putting the following into your Media Gallery config.php:<br>
      <br>
      PHP Formatted Code<br>
      $_MG_CONF['skip_file_find'] = 1;<br>
      <br>
      That will disable looking for the files and prevent the error from happening in the future.</td>
    </tr>
  </tbody>
</table>

<h2><a name="mozTocId773690"></a>Common Troubleshooting Practices</h2>

<p>If you run into problems when using Media Gallery, there are a few standard trouble shooting items you should perform to help isolate the problem.</p>

<p><b>Check your web server&rsquo;s error log</b></p>

<p>One of the first places to look for detailed error messages is in the web server&rsquo;s error log.
Depending on your hosting environment or your hosting service, how you do this varies.
Many hosting services will actually place an error_log file in each of the directories that run PHP code.
So, for example, if you are having a problem uploading images, check in the public_html/mediagallery/ directory to see if there is an error_log file.</p>

<p><b>Check your Geeklog error.log</b></p>

<p>Geeklog maintains its own error file, it is located in the logs/ directory.
Depending on the type of problem you are having there may be more detailed information in this file.</p>

<p><b>Turn on Verbose Logging in Media Gallery</b></p>

<p>Media Gallery does a very good job of logging its steps as it attempts to process images, etc.
By turning on Verbose Logging, it will log much more detail which may help diagnose a problem.
These messages are logged to the Geeklog error.log file mentioned above.</p>

<p><b>Search the Support Forums at the Media Gallery Support Site</b></p>

<p>There is a very good history of issues and resolutions in the support forums at the <a href="http://www.gllabs.org">Media Gallery Support site</a>.
Check and see if there have been others with a similar problem.
If not, please post your problem there and it will be addressed as quickly as possible.</p>

<h1><a name="mozTocId920237"></a>Known Issues</h1>

<p>There are a few known issues with the latest release of Media Gallery that you may run into: </p>

<ul type="disc">

  <li>When using MSSQL as the database engine, Media Gallery will not display new comments on media items in the What&rsquo;s New listing.</li>

</ul>

<h1><a name="mozTocId130520"></a>How Can I Help</h1>

<p>There are several opportunities for folks to help out.
Developing and supporting a complex program like Media Gallery is a very time consuming task.
Anything you can offer will be appreciated.</p>

<ul type="disc">

  <li>Help out in the support forums by answering questions</li>

  <li>Improve the online documentation</li>

  <li>Provide a translation to another language or update one of the existing translations</li>

</ul>

<p>If you want to get involved in the development efforts, there are plenty of areas where I would appreciate help.</p>

<ul type="disc">

  <li>Want to code, let&rsquo;s talk&hellip;</li>

  <li>Templates / Style Sheets - What can I say, I need lots of help here!</li>

  <li>Testing, testing and more testing, I always need help with this&hellip;</li>

</ul>

<p>If you enjoy using Media Gallery and just want to say thank you, then post a note in the forums.
If you are so inclined, donations are accepted.
This is my <strong>hardware/software</strong> fund, so any amount is always appreciated, <strong>but never required!</strong> </p>

<p>If you have an idea where you want to get involved, just let me know.</p>

<h1><a name="mozTocId179642"></a>Special Thanks</h1>

<p>I want to take a moment to thank several folks who have been very helpful throughout the development process.
Without the hard work of everyone who downloaded, installed and tested all the development releases, Media Gallery would not have made it this far.</p>

<p>Also, the number of ideas and features everyone has suggested has been incredible.
Again, without the imaginations and creativity of everyone, Media Gallery would not have the robust feature set it has today.</p>

<p>I especially want to thank everyone who has provided a language translation, I know how difficult and time consuming it is to sit down and translate the hundreds of phrases in Media Gallery, but because of your hard work, Media Gallery has been able to move into countries and environments that I could never accomplish alone.</p>

<p>Media Gallery has turned out to be much more than a hobby of mine, it has enabled me to make many new friends around the world, that is what makes this so much fun! </p>

<p>Thank you!</p>

<p>Mark R. Evans </p>

<h1><a name="mozTocId259021"></a>Appendix A - Importing</h1>

<p>Media Gallery provides the ability to import albums and images from other gallery programs.
This feature could be used to evaluate Media Gallery.
The Import Wizards <b>do not</b> update or disturb the original gallery program, so there is no risk in importing items into Media Gallery.</p>

<h2><a name="mozTocId603399"></a>Inmemoriam Import</h2>

<p>This import wizard will import all albums, media items and comments from an existing Inmemoriam Gallery installation.
This wizard was written for Inmemoriam v1.01.</p>

<p>To begin the import, select <b>Inmemoriam</b> from the Import Menu under Media Gallery Administration.</p>

<ul type="disc">

  <li>A list of all Inmemoriam albums will be displayed</li>

  <li>Select the checkbox of the albums you wish to import</li>

  <li>Click the <b>save</b> button to process the import</li>

</ul>

<p>Media Gallery will immediately create the album structure from the Inmemoriam system and then will load all the images into the <b>Batch Processing Queue</b> to be processed by the <b>Batch Process System</b>.</p>

<p>You will be redirected to the <b>Batch Processing</b> screen and the import will continue.</p>

<p>Once the import is complete, you should have an exact copy of the items you had in your Inmemoriam albums, including titles, descriptions, hit counts and comments.</p>

<h2><a name="mozTocId117698"></a>Geekary Import</h2>

<p>This import wizard will import all albums, media items and comments from an existing Geekary plugin installation.
This wizard was written for Geekary v<b>XX</b>.</p>

<p>To begin the import, select <b>Geekary</b> from the Import Menu under Media Gallery Administration.</p>

<ul type="disc">

  <li>A list of all Geekary albums will be displayed</li>

  <li>Select the checkbox of the albums you wish to import</li>

  <li>Click the <b>save</b> button to process the import</li>

</ul>

<p>Media Gallery will immediately create the album structure from the Geekary system and then will load all the images into the <b>Batch Processing Queue</b> to be processed by the <b>Batch Process System</b>.</p>

<p>You will be redirected to the <b>Batch Processing</b> screen and the import will continue.</p>

<p>Once the import is complete, you should have an exact copy of the items you had in your Geekary albums, including titles, descriptions, hit counts and comments.</p>

<h2><a name="mozTocId847246"></a>Gallery v1 Import</h2>

<p>This import wizard will import all albums, media items from an existing Gallery v1 installation.
This wizard was written for Gallery v1.4+.</p>

<p>To begin the import, select <b>Gallery 1</b> from the Import Menu under Media Gallery Administration.</p>

<ul type="disc">

  <li>You will be prompted to enter the <b>absolute</b> path to your Gallery <b>albums/</b> directory.
  Click <b>save</b> to continue.</li>

  <li>A list of all Gallery albums will be displayed</li>

  <li>Select the checkbox of the albums you wish to import</li>

  <li>Click the <b>save</b> button to process the import</li>

</ul>

<p>Media Gallery will immediately create the album structure from the Gallery system and then will load all the images into the <b>Batch Processing Queue</b> to be processed by the <b>Batch Process System</b>.</p>

<p>You will be redirected to the <b>Batch Processing</b> screen and the import will continue.</p>

<p>Once the import is complete, you should have an exact copy of the items you had in your Gallery albums, including titles and descriptions.</p>

<p><b>Please double check the album permissions to ensure they were imported correctly.</b></p>

<h2><a name="mozTocId708323"></a>Gallery v2 Import</h2>

<p>This import wizard will import all albums, media items from an existing Gallery v2 installation.
This wizard was written for Gallery v2.1+.</p>

<p>To begin the import, select <b>Gallery v2</b> from the Import Menu under Media Gallery Administration.</p>

<ul type="disc">

  <li>You will be prompted for the following information which can be found in the config.php located in your Gallery 2 directory:</li>

  <li>
  <ul type="circle">

    <li>Hostname - hostname for MySQL database</li>

    <li>Database - Name of the Gallery 2 database</li>

    <li>Username - Database username</li>

    <li>Password - Database password</li>

    <li>Table Prefix - Gallery 2 table prefix</li>

    <li>Column Prefix - Gallery 2 column prefix</li>

    <li>Gallery v2 Base Directory</li>

  </ul>
  </li>

  <li>Click <b>save</b> to continue.</li>

  <li>A list of all Gallery albums will be displayed</li>

  <li>Select the checkbox of the albums you wish to import</li>

  <li>Click the <b>save</b> button to process the import</li>

</ul>

<p>Media Gallery will immediately create the album structure from the Gallery system and then will load all the images into the <b>Batch Processing Queue</b> to be processed by the <b>Batch Process System</b>.</p>

<p>You will be redirected to the <b>Batch Processing</b> screen and the import will continue.</p>

<p>Once the import is complete, you should have an exact copy of the items you had in your Gallery albums, including titles and descriptions.</p>

<p><b>Please double check the album permissions to ensure they were imported correctly.</b></p>

<h2><a name="mozTocId112793"></a>4images Import</h2>

<p>This import wizard will import all albums, media items from an existing 4images installation.
This wizard was written for 4images 1.7.3.</p>

<p>To begin the import, select <b>4Images</b> from the Import Menu under Media Gallery Administration.</p>

<ul type="disc">

  <li>You will be prompted for the following information which can be found in your 4images configuration file.</li>

  <li>
  <ul type="circle">

    <li>Database - Name of the 4images database</li>

    <li>Database Prefix - 4Images Table Prefix</li>

    <li>Database User - Database username</li>

    <li>Database Password - Database password</li>

    <li>4images Root Path - This is the main directory for your 4images installation, it should contain the <b>data/</b> directory.</li>

  </ul>
  </li>

  <li>Click <b>save</b> to continue.</li>

  <li>A list of all 4images albums will be displayed</li>

  <li>Select the checkbox of the albums you wish to import</li>

  <li>Click the <b>save</b> button to process the import</li>

</ul>

<p>Media Gallery will immediately create the album structure from the 4images system and then will load all the images into the <b>Batch Processing Queue</b> to be processed by the <b>Batch Process System</b>.</p>

<p>You will be redirected to the <b>Batch Processing</b> screen and the import will continue.</p>

<p>Once the import is complete, you should have an exact copy of the items you had in your 4images categories, including titles and descriptions.</p>

<p><b>Please double check the album permissions to ensure they were imported correctly.</b></p>

<h2><a name="mozTocId580820"></a>Geeklog Story Images Import</h2>

<p>This import wizard will scan all existing Geeklog stories and move any embedded images (using the [imageX] or [unscaledX] auto tag) into Media Gallery.
The [imageX] auto tag will be replaced with a Media Gallery auto tag so the image will continue to display in the story.</p>

<p>When you choose to import these pictures, you have 4 options to configure: </p>

<ul type="disc">

  <li>Which Media Gallery auto tag to use (<a href="http://wiki.mediagallery.org/index.php?title=Geeklog_Integration#Auto_Tags" title="Geeklog Integration">media</a>, <a href="http://wiki.mediagallery.org/index.php?title=Geeklog_Integration#Auto_Tags" title="Geeklog Integration">image</a>)</li>

  <li>Alignment for the auto tag (none, left, right, auto)</li>

  <li>Where to place the images (existing album or create an album based on story title)</li>

  <li>Whether or not to delete the images from the Geeklog /images/ directory after import.</li>

</ul>

<p>If you select to create albums using the Story Title, Media Gallery will use the story's Intro Text field as the album description.
Depending on how large this is, you may want to edit these after the import.</p>

<p>Media Gallery will automatically use the <b>oimage:</b> auto tag if the embedded tag is <b>unscalled</b>.</p>

<p>Media Gallery will also honor any existing alignment from the current <b>imageX</b> or <b>unscaledX</b> auto tags.
If no alignment is specified, then it will use your choice for alignment from the attributes entered above.</p>

<p><b>THIS IMPORT WILL CHANGE ALL YOUR STORIES THAT CONTAIN EMBEDDED IMAGES</b> Please ensure that you have a valid backup before running this import wizard.</p>

</div><!-- end of Section3 -->

</body>
</html>
